<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Priism Help: 2D Object Finder</TITLE>
  <META NAME="Description" CONTENT="On-line help for 2D Object Finter.">
  <META NAME="Keywords" CONTENT="Priism,segmentation,polygon,mask">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1><A NAME="Overview">2D Object Finder</A></H1>
<H2>Overview</H2>
<P>2D Object Finder works with a data set that has been preprocessed so that
features are represented with pixels containing ones and non-features are
zero.  <A HREF="Threshold.html">Threshold</A> and
<A HREF="FindBorder.html">FindBorder</A> are two applications that may be
used to do the preprocessing.  The object finder creates a polygon to surround
each feature in a 2D section. If the input data set is a window, the polygon
outlines will be shown, and the polygons will be available for other polygon
manipulation programs.  The polygons may also be saved to a text file for
later use.

<P>For notes on how to approach the modeling process, see
<A HREF="3DModelStrategies.html">3DModelStrategies.html</A>.

<P>The controls for selecting the input file and region to process are shared
with many other Priism applications and are described
<A HREF="Region.html">elsewhere</A>.  The controls specific to 2D Object Finder
are described below.

<H3>Topics</H3>
<P>
  <A HREF="Region.html">Region processing</A> |
  <A HREF="#PolygonFile">Polygon file</A> |
  <A HREF="#BorderSize">Border size</A> |
  <A HREF="#PointDistance">Distance between points</A> |
  <A HREF="#MinimumPoints">Minimum points per object</A> |
  <A HREF="#OuterObjects">Outer objects</A> |
  <A HREF="#ExcludeEdgeObject">Exclude edge objects</A> |
  <A HREF="#CommandLine">Command line</A>

<H3>Related Priism Topics</H3>
<P>
  <A HREF="Threshold.html">Threshold</A> |
  <A HREF="FindBorder.html">FindBorder</A> |
  <A HREF="EditPolygon.html">EditPolygon</A> |
  <A HREF="VolumeBuilder.html">Volume Builder</A> |
  <A HREF="CutMask.html">Cut Mask</A> |
  <A HREF="Priism.html">Priism</A>
<HR>

<H2><A NAME="PolygonFile">Polygon File</A></H2>
<P>If you want 2DObjFinder to save the polygons to a file, enter the file
name in the field next to the "Output .Pol File" button or press the
"Output .Pol File" button to bring up a file browser to select the output file.

<P>If the input file is an image window and you did not specify a polygon
output file, you can use EditPolygon to save the polygons to a file without
repeating the segmentation:  run EditPolygon, enter the image window number
that 2DObjFinder is using as its input in EditPolygon's "Image Window" field,
and then press EditPolygon's "Save .POL File" button.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="BorderSize">Border size</A></H2>
<P>Points within a given distance, shown in the "border size" field,
of an image edge are not included in features, i.e. it is as if they were set
to zero in the input data set.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="PointDistance">Point distance</A></H2>
<P>The "dist between pts" field determines how the polygons
are compressed after they are generated.  The compression is performed on
polygons with ten or more vertices.  A minimum side length, <VAR>s</VAR>, is
chosen which is either the distance, <VAR>d</VAR>, show in the "dist
between pts" field or, if the number of vertices divided by <VAR>d</VAR>
is less than ten,  <VAR>d</VAR> - <VAR>j</VAR> where <VAR>j</VAR> is the
smallest integer such that the number of vertices divided by <VAR>d</VAR> -
<VAR>j</VAR> is greater than or equal to ten.  Starting from one of the
vertices, the other vertices are considered in order and those that are less
than the minimum side length from the previous vertex are eliminated.

<P>The compression is performed after the criteria for the
<A HREF="#MinimumPoints">minimum number of vertices per polygon</A> has been
applied.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="MinimumPoints">Minimum points per object</A></H2>
<P>After polygons are generated, those with less than the number of vertices
shown in the "min pts for one obj" field are eliminated.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="OuterObjects">Outer objects</A></H2>
<P>If the "outer objs only" toggle is on, polygons will not be generated
to mark holes in a feature.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="ExcludeEdgeObject">Exclude edge objects</A></H2>
<P>If the "exclude edge objs" toggle is on, polygons with a vertex
within one plus the <A HREF="#BorderSize">border size</A> pixels of the image
edge will not be generated.

<P><A HREF="#Overview">Return to overview</A>
<HR>

<H2><A NAME="CommandLine">Command Line</A></H2>
<P>2DObjFinder accepts the command-line arguments described in
<A HREF="Region.html#COMMANDLINE">Region.html</A>.  In addition, it has
the following options:

<DL>
  <DT><CODE>-border=</CODE><VAR>n</VAR>
  <DD>Sets the number of pixels, <VAR>n</VAR>, along each edge that
    2DObjFinder excludes from segmentation.  <VAR>n</VAR> must be a positive
    integer.  By default, 2DObjFinder excludes a one pixel wide border around
    the edge of the image.

  <DT><CODE>-exclude_edge</CODE>
  <DD>If specified, 2DObjFinder filters out any polygons that have a vertex
    within <VAR>n</VAR>+1 pixels of the sides of the image where <VAR>n</VAR>
    is the border size set with -border.

  <DT><CODE>-minpts=</CODE><VAR>m</VAR>
  <DD>Causes 2DObjFinder to filter out any polygons with less than <VAR>m</VAR>
    vertices.  The filtering takes place before 2DObjFinder resamples the
    polygons to match the vertex spacing set with -spacing.  By default,
    2DObjFinder filters out polygons with less than three vertices.

  <DT><CODE>-poly=</CODE><VAR>name</VAR>
  <DD>Causes 2DObjFinder to generate a file named <VAR>name</VAR> to store
    the polygon results.  If you do not use this option, 2DObjFinder
    does not save the polygons.

  <DT><CODE>-outer_only</CODE>
  <DD>Causes 2DObjFinder to only generate the polygons that mark the outer
    boundaries of the objects and not the polygons that mark the edges of
    holes in the objects.

  <DT><CODE>-spacing=</CODE><VAR>s</VAR>
  <DD>Sets the distance between adjacent polygon vertices to be <VAR>s</VAR>
    pixels.  By default, 2DObjFinder will generate polygon vertices spaced
    four pixels apart.
</DL>

<P>The following example segments the contents of window 2 and saves the
outer boundary polygons in /var/tmp/2.pol:

<PRE>
    2DObjFinder 2 -poly=/var/tmp/2.pol -outer_only
</PRE>

<P><A HREF="#Overview">Return to overview</A>
<HR>
</BODY>
</HTML>
