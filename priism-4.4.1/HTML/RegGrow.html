<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Priism Help: Region growing</TITLE>
  <META NAME="Description" CONTENT="On-line help for Priism's application for region growing.">
  <META NAME="Keywords" CONTENT="Priism,region growing,masking">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1><A NAME="RegGrow">Region Growing</A></H1>
<H2>Overview</H2>
<P>Using a set of points as a seeds, the Region Growing application,
for each point in the set, determines the points that are nearby and whose
intensity is in an appropriate range.

<P>Set the source for the image data by pressing the <EM>Image file</EM>
button to browse for a file or by entering the window number or file name
directly in the field next to the <EM>Image file</EM> button.  You can
restrict region growing to a subset of the image data; see
<A HREF="#Region">Input subset</A> for details.  Use the <EM>point data</EM>
button or the field next to it to set the file with the points that are to
be used as the starting points for the region growing process.  This file
must be in the old <A HREF="Pick.html">Pick Points</A> format; it could be
generated by <A HREF="Pick.html">Pick Points</A> or
<A HREF="FindPoints.html">FindPoints</A> though the latter can also perform
region growing on its own.

<P>For the intensity criteria used to determine whether a point should be
included in the region, you have two basic choices:

<DL>
  <DT>Dropoff (0.0 - 1.0)
  <DD>Reject points whose intensity is less than the intensity of the starting
    point times the value shown in the field next to the <EM>Save</EM> button.

  <DT>Abs Threshold
  <DD>Reject points whose intensity is less then the value shown in the
    field next to the <EM>Save</EM> button.
</DL>

<P>With either, turn on the <EM>Valley</EM> toggle to also reject points
whose intensity is greater than that of the adjacent point which was just
added to the region.

<P>To find the regions, you must also specify an output file by entering a
file name or window number in the <EM>Out file</EM> or <EM>Mask file</EM> field
(you can use both fields, but use a different file name for each).  In the
<EM>Out file</EM>, points which do not fall into any region have zero
intensity, and all the other points will have the same intensity as they
had in the input file.  In the <EM>Mask file</EM>, points which do not fall
into any region are set to zero and all other points are labeled by the number
of the region to which they belong.

<P>Once the input file, points list, threshold, and output file(s) are
selected, press <EM>doit</EM> to determine what the regions are.  While
the calculation is in progress, the <EM>doit</EM> button will be labeled
<EM>interrupt</EM> and can be used to halt the calculation.

<P>Once the regions have been found, the <EM>Save</EM> button can be used to
save some summary results for the regions.  The old pick points format is
used for these results:  the first three columns are the x, y, and z location
of the seed point; the fourth column is the region number; the fifth column
is the sum of the intensity over the region; and the sixth column is the
number of points in the region.

<H3>Topics</H3>
<P>
   Overview |
   <A HREF="#Region">Input subset</A>

<H3>Related Priism Topics</H3>
<P>
   <A HREF="Pick.html">Pick Points</A> |
   <A HREF="FindPoints.html">Find Points</A> |
   <A HREF="Priism.html">Priism</A>
<HR>

<H2><A NAME="Region">Input subset</A></H2>
<P>The subset of the input that is used for region growing is set by the
<EM>XY</EM>, <EM>Z</EM>, and <EM>T</EM> fields and the wavelength toggles at
the bottom of the dialog.  The subset has a rectangular cross-section in x
and y.  The first two values in the <EM>XY</EM> field are the pixel
coordinates of the lower lefthand corner of the rectangle; the last two values
are the dimensions, in pixels, for the rectangle.  If the input file is a
window, the rectangle can be selected using the mouse a recipe for doing
this is:

<UL>
  <LI>Press the <EM>Select region</EM> button.
  <LI>Move the mouse pointer to the image window.
  <LI>Depending on where the pointer is relative to the region selected,
    you can:
    <UL>
      <LI>Shift an existing region by depressing the left mouse button
        when the pointer is in the center of the region, dragging the
        mouse, and releasing the left mouse button.
      <LI>Adjust the size of a region by depressing the left mouse button
        when the pointer is at an edge or corner of the region, dragging
        the mouse, and releasing the left mouse button.
      <LI>Select a new region by depressing the left mouse button while
        the pointer is outside of the existing region, dragging the
        mouse, and releasing the left mouse button.
    </UL>
  <LI>After the left mouse button has been pressed in the image window,
    the selection process will terminate if the mouse pointer leaves the image
    and the left mouse button is not held down.  Press the <EM>Select
    region</EM> button again to restart the selection process.
</UL>

<P>The <EM>Z</EM> field sets the range of z sections included in the subset.
A section is included if its index is greater than equal to the first value
in the field and less than or equal to the second value in the field.  The
<EM>T</EM> field sets the range of time points included in the subset.  A time
point is included if its index meets three criteria: it is greater than or
equal to the first value shown in the field; it is less than or equal to the
second value show in the field; and the difference between it and the first
value shown in the field is evenly divisible by the third value shown in the
field.

<P>Select the wavelengths included in the subset with the toggles at the
bottom of the dialog.  The ordering of the toggles from left to right
reflects the ordering of the wavelengths in the file:  when the leftmost
toggle is on, the first wavelength in the file is included; otherwise it is
not included. 

<P>If you use a subset of the input image stack, the output image stacks
(either the masked data or the mask) will be sized accordingly and have
information in their headers to indicate their origin relative to the
input data stack.  The point list created with the <EM>Save</EM> button,
however, will always have coordinates relative to the input image stack.

<H3>Topics</H3>
<P>
   <A HREF="#RegGrow">Overview</A> |
   Input subset
<HR>

</BODY>
</HTML>
