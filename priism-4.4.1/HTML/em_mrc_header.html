<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>EM MRC Header</TITLE>
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1>EM MRC Header</H1>

<P>The EM MRC header is 1024 bytes layed out as described below.  Each
field is in one of these formats:

<DL COMPACT>
  <DT>n<DD>Is a 2-byte signed integer using two's complement representation
    for negative values).
  <DT>i<DD>Is a 4-byte signed integer using two's complement representation
    for negative values).
  <DT>f<DD>Is a 4-byte floating-point value in IEEE format.
  <DT>c<VAR>n</VAR><DD>Is a string of characters that is <VAR>n</VAR> bytes
    long.
</DL>

<P>Multi-byte quantities are all either in little-endian or big-endian order.
The endianness is indicated by the contents of bytes 213 through 216.

<P>More information about the Priism's version of the MRC format can be found
in the <A HREF="IM_ref2.html#ImageFormat">Imsubs reference manual</A>.

<HR>

<TABLE BORDER=2>
<TR>
<TD>
<CENTER><P><STRONG>Byte Numbers</STRONG></P></CENTER>
</TD>

<TD>
<CENTER><P><STRONG>Variable Type</STRONG></P></CENTER>
</TD>

<TD>
<CENTER><P><STRONG>Variable Name</STRONG></P></CENTER>
</TD>

<TD><STRONG>Contents</STRONG></TD>
</TR>

<TR>
<TD WIDTH="67">1 - 4</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumCol</P></CENTER>
</TD>

<TD WIDTH="430">number of columns (fastest-varying dimension; normally mapped
to x)</TD>
</TR>

<TR>
<TD WIDTH="67">5 - 8</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumRow</P></CENTER>
</TD>

<TD WIDTH="430">number of rows (second fastest-varying dimension; normally
mapped to y)</TD>
</TR>

<TR>
<TD WIDTH="67">9 - 12</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumSections</P></CENTER>
</TD>

<TD WIDTH="430">number of sections (slowest-varying dimension; normally mapped
to the remaining dimensions, z, wavelength, and time)</TD>
</TR>

<TR>
<TD WIDTH="67">13 - 16</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>PixelType</P></CENTER>
</TD>

<TD WIDTH="430">format of each pixel value (the
<A HREF="IM_ref2.html#PixelDataTypes">Pixel Data Types section</A> of the
<A HREF="IM_ref2.html">Imsubs reference manual</A> lists the defined
options)</TD>
</TR>

<TR>
<TD WIDTH="67">17 - 20</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>mxst</P></CENTER>
</TD>

<TD WIDTH="430">index of the first column (normally mapped to x) in the data;
zero by default</TD>
</TR>

<TR>
<TD WIDTH="67">21 - 24</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>myst</P></CENTER>
</TD>

<TD WIDTH="430">index of the first row (normally mapped to y) in the data;
zero by default</TD>
</TR>

<TR>
<TD WIDTH="67">25 - 28</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>mzst</P></CENTER>
</TD>

<TD WIDTH="430">index of the first section (normally treated as the first z)
in the data; zero by default</TD>
</TR>

<TR>
<TD WIDTH="67">29 - 32</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>mx</P></CENTER>
</TD>

<TD WIDTH="430">number of intervals in the fastest-varying direction (normally
x) </TD>
</TR>

<TR>
<TD WIDTH="67">33 - 36</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>my</P></CENTER>
</TD>

<TD WIDTH="430">number of intervals in the second fastest-varying direction
(normally y)</TD>
</TR>

<TR>
<TD WIDTH="67">37 - 40</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>mz</P></CENTER>
</TD>

<TD WIDTH="430">number of intervals in the slowest varying direction
(normally treated as z)</TR>

<TR>
<TD WIDTH="67">41 - 44</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>dx</P></CENTER>
</TD>

<TD WIDTH="430">pixel spacing times sampling interval for fastest-varying
direction (first cell dimension in Angstroms for crystallographic data)</TD>
</TR>

<TR>
<TD WIDTH="67">45 - 48</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>dy</P></CENTER>
</TD>

<TD WIDTH="430">pixel spacing times sampling interval for second
fastest-varying direction (second cell dimension in Angstroms for
crystallographic data)</TD>
</TR>

<TR>
<TD WIDTH="67">49 - 52</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>dz</P></CENTER>
</TD>

<TD WIDTH="430">pixel spacing times sampling interval slowest-varying
direction (third cell dimension in Angstroms for crystallographic data)</TD>
</TR>

<TR>
<TD WIDTH="67">53 - 56</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>alpha</P></CENTER>
</TD>

<TD WIDTH="430">cell angle (alpha) in degrees; defaults to 90</TD>
</TR>

<TR>
<TD WIDTH="67">57 - 60</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>beta</P></CENTER>
</TD>

<TD WIDTH="430">cell angle (beta) in degrees; defaults to 90</TD>
</TR>

<TR>
<TD WIDTH="67">61 - 64</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>gamma</P></CENTER>
</TD>

<TD WIDTH="430">cell angle (gamma) in degrees; defaults to 90</TD>
</TR>

<TR>
<TD WIDTH="67">65 - 68</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">column axis (1 = x, 2 = y, 3 = z; defaults to 1)</TD>
</TR>

<TR>
<TD WIDTH="67">69 - 72</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">row axis (1 = x, 2 = y, 3 = z; defaults to 2)</TD>
</TR>

<TR>
<TD WIDTH="67">73 - 76</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">section axis (1 = x, 2 = y, 3 = z; defaults to 3)
</TD>
</TR>

<TR>
<TD WIDTH="67">77 - 80</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>min</P></CENTER>
</TD>

<TD WIDTH="430">minimum intensity</TD>
</TR>

<TR>
<TD WIDTH="67">81 - 84</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>max</P></CENTER>
</TD>

<TD WIDTH="430">maximum intensity</TD>
</TR>

<TR>
<TD WIDTH="67">85 - 88</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>mean</P></CENTER>
</TD>

<TD WIDTH="430">mean intensity</TD>
</TR>

<TR>
<TD WIDTH="67">89 - 92</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>nspg</P></CENTER>
</TD>

<TD WIDTH="430">space group number (for crystallography; otherwise, 0, 1, or 401)</TD>
</TR>

<TR>
<TD WIDTH="67">93 - 96</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>next</P></CENTER>
</TD>

<TD WIDTH="430">extended header size in bytes</TD>
</TR>

<TR>
<TD WIDTH="67">97 - 100</TD>

<TD WIDTH="43">
<CENTER><P>c4</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>extra0</P></CENTER>
</TD>

<TD WIDTH="430">4 byte unused section</TD>
</TR>

<TR>
<TD WIDTH="67">101 - 104</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>ntst</P></CENTER>

<TD WIDTH="430">starting time index</TD>
</TR>

<TR>
<TD WIDTH="67">105 - 128</TD>

<TD WIDTH="43">
<CENTER><P>c24</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>extra1</P></CENTER>
</TD>

<TD WIDTH="430">24 byte unused section</TD>
</TR>


<TR>
<TD WIDTH="67">129 - 130</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumIntegers</P></CENTER>
</TD>

<TD WIDTH="430">number of 4 byte integers stored in the extended header
per section (Priism extension to Image2000 format)</TD>
</TR>

<TR>
<TD WIDTH="67">131 - 132</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumFloats</P></CENTER>
</TD>

<TD WIDTH="430">number of 4 byte floating-point numbers stored in the extended
header per sectior (Priism extension to Image2000 format)</TD>
</TR>

<TR>
<TD WIDTH="67">133 - 134</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>sub</P></CENTER>
</TD>

<TD WIDTH="430">number of sub-resolution data sets stored within the image
typically 1; Priism extension to Image2000 format)</TD>
</TR>

<TR>
<TD WIDTH="67">135 - 136</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>zfac</P></CENTER>
</TD>

<TD WIDTH="430">reduction quotient for the z axis of the sub-resolution
images (Priism extension to Image2000 format)</TD>
</TR>

<TR>
<TD WIDTH="67">137 - 160</TD>

<TD WIDTH="43">
<CENTER><P>c24</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>extra2</P></CENTER>
</TD>

<TD WIDTH="430">24 byte unused section</TD>
</TR>

<TR>
<TD WIDTH="67">161 - 162</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>type</P></CENTER>
</TD>

<TD WIDTH="430">image type (the
<A HREF="IM_ref2.html#ImageTypes">Image Types section</A> of the
<A HREF="IM_ref2.html">Imsubs reference manual</A> lists types that have been
defined; Priism extension to Image2000 format)</TD>
</TR>

<TR>
<TD WIDTH="67">163 - 164</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>LensNum</P></CENTER>
</TD>

<TD WIDTH="430">lens identification number (Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">165 - 166</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>n1</P></CENTER>
</TD>

<TD WIDTH="430">depends on the image type (Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">167 - 168</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>n2</P></CENTER>
</TD>

<TD WIDTH="430">depends on the image type (Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">169 - 170</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>v1</P></CENTER>
</TD>

<TD WIDTH="430">depends on the image type (Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">171 - 172</TD>

<TD WIDTH="43">
<CENTER><P>n</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>v2</P></CENTER>
</TD>

<TD WIDTH="430">depends on the image type (Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">173 - 184</TD>

<TD WIDTH="43">
<CENTER><P>c12</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>extra3</P></CENTER>
</TD>

<TD WIDTH="430">12 byte unused section</TD>
</TR>

<TR>
<TD WIDTH="67">185 - 188</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">x axis tilt angle (degrees; Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">189 - 192</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">y axis tilt angle (degrees; Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">193 - 196</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">z axis tilt angle (degrees; Priism extension to Image2000
format)</TD>
</TR>

<TR>
<TD WIDTH="67">197 - 200</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>x0</P></CENTER>
</TD>

<TD WIDTH="430">x origin (microns for optical, Angstroms for EM)</TD>
</TR>

<TR>
<TD WIDTH="67">201 - 204</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>y0</P></CENTER>
</TD>

<TD WIDTH="430">y origin (microns for optical, Angstroms for EM)</TD>
</TR>

<TR>
<TD WIDTH="67">205 - 208</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>z0</P></CENTER>
</TD>

<TD WIDTH="430">z origin (microns for optical, Angstroms for EM)</TD>
</TR>

<TR>
<TD WIDTH="67">209 - 212</TD>

<TD WIDTH="43">
<CENTER><P>c4</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>map</P></CENTER>
</TD>

<TD WIDTH="430">the character string 'MAP '</TD>
</TR>

<TR>
<TD WIDTH="67">213-216</TD>

<TD WIDTH="43">
<CENTER><P>c4</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>machst</P></CENTER>
</TD>

<TD WIDTH="430">first two bytes are 17 and 17 for big-endian or 68 and 65 for
little-endian</TD>
</TR>

<TR>
<TD WIDTH="67">217-220</TD>

<TD WIDTH="43">
<CENTER><P>f</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>rms</P></CENTER>
</TD>

<TD WIDTH="430">RMS deviations of intensities from mean</TD>
</TR>

<TR>
<TD WIDTH="67">221 - 224</TD>

<TD WIDTH="43">
<CENTER><P>i</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>NumTitles</P></CENTER>
</TD>

<TD WIDTH="430">number of titles (valid numbers are between 0 and 10)</TD>
</TR>

<TR>
<TD WIDTH="67">225 - 304</TD>

<TD WIDTH="43">
<CENTER><P>c80</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">title 1</TD>
</TR>

<TR>
<TD WIDTH="67">305 - 384</TD>

<TD WIDTH="43">
<CENTER><P>c80</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">title 2</TD>
</TR>

<TR>
<TD WIDTH="67">385 - 464</TD>

<TD WIDTH="43">
<CENTER><P>c80</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">title 3</TD>
</TR>

<TR>
<TD WIDTH="67">465 - 544</TD>

<TD WIDTH="43">
<CENTER><P>c80</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">title 4</TD>
</TR>

<TR>
<TD WIDTH="67">545 - 624</TD>

<TD WIDTH="43">
<CENTER><P>c80</P></CENTER>
</TD>

<TD WIDTH="51">
<CENTER><P>-</P></CENTER>
</TD>

<TD WIDTH="430">title 5</TD>
</TR>

<TR>
<TD>625 - 704</TD>

<TD>
<CENTER><P>c80</P></CENTER>
</TD>

<TD>
<CENTER><P>-</P></CENTER>
</TD>

<TD>title 6</TD>
</TR>

<TR>
<TD>705 - 784</TD>

<TD>
<CENTER><P>c80</P></CENTER>
</TD>

<TD>
<CENTER><P>-</P></CENTER>
</TD>

<TD>title 7</TD>
</TR>

<TR>
<TD>785 - 864</TD>

<TD>
<CENTER><P>c80</P></CENTER>
</TD>

<TD>
<CENTER><P>-</P></CENTER>
</TD>

<TD>title 8</TD>
</TR>

<TR>
<TD>865 - 944</TD>

<TD>
<CENTER><P>c80</P></CENTER>
</TD>

<TD>
<CENTER><P>-</P></CENTER>
</TD>

<TD>title 9</TD>
</TR>

<TR>
<TD>945 - 1024</TD>

<TD>
<CENTER><P>c80</P></CENTER>
</TD>

<TD>
<CENTER><P>-</P></CENTER>
</TD>

<TD>title 10</TD>
</TR>
</TABLE>

</BODY>
</HTML>
