<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Priism Help: libquicktime Plugin</TITLE>
  <META NAME="Description" CONTENT="On-line help for the Priism plugin to generate QuickTime movies on Linux using libquicktime.">
  <META NAME="Keywords" CONTENT="Priism,QuickTime,video">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1><A NAME="LQT">libquicktime Plugin</A></H1>
<H2>Overview</H2>
<P>On Linux systems, a plugin is available to save data as QuickTime movies.
The plugin uses <A HREF="http://libquicktime.sourceforge.net" TARGET="_top">libquicktime</A>.
Priism includes a fairly generic version of the libquicktime library; to use
another version, make sure the other version is in the shared library path
before the Priism library path and set the environment variable
IVE_NO_INTERNAL_LQT before sourcing the script that sets the Priism
environment.

<H3>Topics</H3>
<P>
    Overview |
    <A HREF="#FrameRate">Frame rate</A> |
    <A HREF="#Compression">Compression</A> |
    <A HREF="#CommandLine">Command line</A>

<H3>Related Priism Topics</H3>
<P>
    <A HREF="ImageCapture.html">Image Capture</A> |
    <A HREF="3DModel.html">3D Model</A> |
    <A HREF="Priism.html">Priism</A>
<HR>

<H2><A NAME="FrameRate">Frame rate</A></H2>
<P>Use the frame rate option to specify the number of frames per second for
the generated movie.

<P><A HREF="#LQT">Return to overview</A>
<HR>

<H2><A NAME="Compression">Compression</A></H2>
<P>The available compression schemes depend on which libquicktime library
you use and how that library was configured.  The commonly used compression
schemes in the libquicktime included with Priism are:

<DL>
  <DT>RGB uncompressed<DD>The generated movie is not compressed.
  <DT>PNG<DD>Uses the lossless compression algorithm from the
    <A HREF="http://www.libpng.org/pub/png/" TARGET="_top">Portable Network Graphics format</A>
    to compress each frame.  This compression scheme has one adjustable
    parameter, the compression level, which is an integer between zero and nine
    with a default value of nine (best but slowest compression).  Zero
    corresponds to no compression.
  <DT>Jpeg photo<DD>Compresses each frame of the movie separately with
    the standard JPEG lossy compression algorithm.  There are two adjustable
    parameters.  One, the "Quality", controls how well the compressed data
    reproduces the original; it is an integer between one and a hundred where
    a hundred represents the highest quality.  The default quality level is
    ninety-five.  The other parameter is whether or not to use floating-point
    arithmetic for the DCT calculations:  using floating-point may speed
    up the compression process on some computer hardware.  This implementation
    will silently pass the data through without compression if either
    dimension has less than sixteen pixels and will silently trim pixels on
    the top and right in other cases so that the size of both dimensions is
    divisible by sixteen.
  <DT>Motion Jpeg A<DD>Uses a variant of the JPEG scheme adapted for use
    with digital video.   The adjustable parameters for this algorithm are
    the same as those for the "Jpeg photo" algorithm.  This implementation will
    silently pass the data through without compression if either dimension has
    less than sixteen pixels and will silently trim pixels on the top and right
    in other cases so that the size of both dimensions is divisible by sixteen.
</DL>

<P>Note that compression schemes which use sampled YUV color models will
silently trim columns or rows from the top and right of hte input if the
input dimensions are not evenly divisble by the sampling factor.

<P><A HREF="#LQT">Return to overview</A>
<HR>

<H2><A NAME="CommandLine">Command Line</A></H2>
<P>When Image Capture is run from the command line on Linux, you can use

<PRE>
    -format=qt
</PRE>

<P>as an option to Image Capture to have it generate a QuickTime movie.  To
further control the output, you can append any of the following to the
-format=qt option (when appending first insert a comma: i.e.

<PRE>
    -format=qt,frate=5,compress=png
</PRE>

<P>):

<DL>
  <DT><CODE>frate=</CODE><VAR>frames_per_second</VAR>
  <DD>Sets the suggested playback rate; <VAR>frames_per_second</VAR> can
    be any value between 0.25 and 99.  When you do not set the playback rate,
    the playback rate for the generated movie will be 15 frames per second.

  <DT><CODE>compress=</CODE><VAR>algorithm_name</VAR>
  <DD>Sets the compression algorithm to use.  <VAR>algorithm_name</VAR> should
    be the short name for one of the compression schemes libquicktime supports.
    Some of the common ones are:
    <DL>
      <DT>raw<DD>Generate uncompressed RGB.  For compatibility with previous
        plugins to generate QuickTime movies on Linux, you can also use
        <CODE>none</CODE> instead of <CODE>raw</CODE> as the algorithm name.
      <DT>png<DD>Independently compress each frame using the PNG algorithm
        which is lossless.
      <DT>jpeg<DD>Independently compress each frame using the JPEG algorithm.
      <DT>mjpa<DD>Use the Motion JPEG A compression scheme.  For compatibility
        with previous plugins to generate QuickTime movies on Linux, you can
        also use <CODE>mjpega</CODE> instead of <CODE>mjpa</CODE> as the
        algorithm name.
    </DL>
</DL>

<P>There are also options to control the parameters for a particular
compression algorithm.  One way to determine what they are is to set up
the compression parameters in Image Capture's user interface and then use
the "Create batch job..." option from the "Options" menu at the bottom right
of Image Capture's dialog to write out a script with the command-line
equivalents to what you had specified in the user interface.

<P><A HREF="#LQT">Return to overview</A>
<HR>

</BODY>
</HTML>
