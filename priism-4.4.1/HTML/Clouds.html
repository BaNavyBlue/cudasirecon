<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <TITLE>Priism Help: Clouds</TITLE>
  <META NAME="Description" CONTENT="On-line help for Clouds.">
  <META NAME="Keywords" CONTENT="Priism,modeling,measurement">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1><A NAME="Clouds">Clouds</A></H1>
<H2>Overview</H2>
<P>Clouds does all kinds of distance measurements between objects in a
data file.  The name clouds comes from the fact that it generates random
points inside 3D objects (i.e. a cloud of points) for models and distance
measurement distributions.  Objects must be created in the object library
format using either <A HREF="VolumeBuilder.html">Volume Builder</A> for
3D objects or <A HREF="Pick.html">Pick Points</A> for point objects.  Point
objects may be created with some other program and then read into Pick Points
to convert it to object library format.  The measurement output is text
file with distances in a column format such that it is readable by the user
and can be easily cut and pasted into a spread sheet.  The user can select
one or a number of possible measurements to do in any one measurement run.

<H3>Topics</H3>
<P>
  Overview |
  <A HREF="#ObjectFiles">Object Files</A> |
  <A HREF="#ImageFile">Image File</A> |
  <A HREF="#GroupObjects">Group Objects</A> |
  <A HREF="#EditGroup">Edit Group</A> |
  <A HREF="#NumRandom">Num random points</A> |
  <A HREF="#BinRandom">Bin random measurements</A> |
  <A HREF="#NumberOfBins">Number of Bins</A> |
  <A HREF="#CloudMeasurements">Cloud Measurements</A> |
  <A HREF="#CloudModels">Cloud Models</A>

<H3>Related Priism Topics</H3>
<P>
  <A HREF="Pick.html">Pick Points</A> |
  <A HREF="VolumeBuilder.html">Volume Builder</A> |
  <A HREF="3DModel.html">3D Model</A> |
  <A HREF="Priism.html">Priism</A>
<HR>

<H2><A NAME="ObjectFiles">Object Files</A></H2>
<P>Files describing the objects are required input for Clouds.  They need to
be in the object library format and there are currently two types of objects
that the program can use:

<UL>
  <LI>Volume objects are objects created with
    <A HREF="VolumeBuilder.html">Volume Builder</A>. They are a collection of
    polygons grouped to form 3D objects. When saving a file in Volume Builder
    to use with this program, save it in the object library format.
  <LI>Point objects are created in the object library format using
    <A HREF="Pick.html">Pick Points</A>.  The points can be generated using
    any program that either uses the object library to save files, or writes
    out a Pick Points file.  In the latter case, the file can simply be read
    in by Pick Points and written back out in the object library format.
</UL>

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="ImageFile">Image File</A></H2>
<P>The image file can be a file or a window.  When a window is used, graphics
are drawn to the window to show the objects.  When objects are grouped, all
grouped objects share the same color so that one can tell if the objects are
properly grouped.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="GroupObjects">Group Objects</A></H2>
<P>Objects are divided into groups such that all small objects that fall
inside a bigger object are grouped together.  To group objects, press the
"Group Objects" button.  By defaults objects are divided into groups by going
through all the objects and testing each object with all the others to see if
one is inside the other.  When there are many objects, this can be time
consuming.  The pulldown menu with options "no pregrouping" and "outer objects
in wave" allows you to speed up the process if you can tell the program that
the outer objects are in a separate wave from the inner objects.  Normally the
criterion for automatic grouping is that the center of gravity of the smaller
object is inside the bigger object.  If there are a lot of small objects that
are right on the edge of the big object, this may not work.  Turning on the
"force" button and then pressing the "Group Objects" button will force any
object that touches a big object at all to be grouped with the big object.  Be
aware that if outer objects are touching each other then using force could
cause outer objects to be grouped together when no pregrouping is used.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="EditGroup">Edit Group</A></H2>
<P>Once you have grouped the objects (or even if you haven't), you can edit
the grouping of objects. When you press the "Edit Group" button, you get a
directive to click in the outer object of the group to add to.  Once you do
that, you can click in any smaller objects that should be part of that group.
When you are done, press the "End Edit" button. The toggle button for
"show directive popups" lets you turn off the popups that tell you what to
click.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="NumRandom">Num random points</A></H2>
<P>When sampling an object with random points or making cloud models, tell the
program how many random points you want generated.  You can enter a different
amount for outer objects and inner objects.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="BinRandom">Bin random measurements</A></H2>
<P>For measurements involving random points, the results are presented as a
histogram if the "bin random measurements" toggle button is on or as the raw
distances if that toggle is off.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="NumberOfBins">Number of bins</A></H2>
<P>Sets the number of bins used when histograms are reported for
<A HREF="#CloudMeasurements">cloud measurements</A>.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="CloudMeasurements">Cloud Measurements</A></H2>
<P>The "Cloud Measurements" button opens a dialog that allows you to select
which measurements you want to do.  The measurements will be written to a file
whose name you must enter in the "Output dist file" field or select by using
the file dialog that appears when press the "Output dist file" button.  You
add a measurement to the list of measurements to perform (a "run list") by
using the "From" and "To" pulldowns to select which object components to use
for the measurement and then pressing the "Add Setting" button.  Whenever you
change the "From" pulldown, the "To" pulldown will change to reflect the
available targets for the measurement.  You can add as many measurements to
the list as you want.  To save a list of measurements that you want to reuse
with another set of objects:

<OL>
  <LI>Press the "Save Run List" button.
  <LI>In the dialog that appears, enter the file name to create in the field
    next to the "getfile" or press the "getfile" button to select the file
    with a file dialog.  Then press the "Save" button.
</OL>

<P>To reload a list of previously saved measurements press the "Load Run List"
button and use the file dialog that appears to select the file containing
the list of measurements.  To clear a list of measurements so you can
enter another list, press the "Clear List" button.  Once you have selected
the list of measurements, press the "DO IT" button at the bottom of the
dialog to perform the calculations and write the results.

<P>There are quite a few combinations of elements that can be used for
measurement.  Currently implemented measurements are:

<DL>
  <DT><STRONG>From Outer Cloud random pts to Each other</STRONG>
  <DD>Determines the pairwise distances between the random points generated in
    the outer cloud.

  <DT><STRONG>From Inner Clouds random pts to Other Inner Cloud random</STRONG>
  <DD>Determines the pairwise distances between random points generated for
    different inner clouds.

  <DT><STRONG>From Inner Clouds random pts to Outer Cloud CM</STRONG>
  <DD>Determines the distance from each random point in the inner clouds to the
    outer cloud's intensity-weighted center.

  <DT><STRONG>From Inner Clouds random pts to Outer Cloud CG</STRONG>
  <DD>Determines the distance from each random point in the inner clouds to the
    outer cloud's geometric center.

  <DT><STRONG>From Inner Clouds random pts to Outer Cloud Surface</STRONG>
  <DD>Determines the distance from each random point in the inner clouds to the
    outer cloud surface.

  <DT><STRONG>From Inner Cloud CM's to Other Inner Cloud CG's</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to each other inner cloud's geometric center.

  <DT><STRONG>From Inner Cloud CM's to Other Inner Cloud CM's</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to each other inner cloud's intensity-weighted center.

  <DT><STRONG>From Inner Cloud CM's to Outer Cloud CM</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to the outer cloud's intensity-weighted center.

  <DT><STRONG>From Inner Cloud CM's to Outer Cloud CG</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to the outer cloud's geometric center.

  <DT><STRONG>From Inner Cloud CM's to Outer Cloud Surface</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to the outer cloud's surface.

  <DT><STRONG>From Inner Cloud CM's to Outer Cloud ZCenterPlane</STRONG>
  <DD>Determines the distance from each inner cloud's intensity-weighted center
    to the outer cloud's central z plane.

  <DT><STRONG>From Inner Cloud CG's to Other Inner Cloud CG's</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to each
    other inner cloud's geometric center.

  <DT><STRONG>From Inner Cloud CG's to Other Inner Cloud CM's</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to each
    other inner cloud's intensity-weighted center.

  <DT><STRONG>From Inner Cloud CG's to Outer Cloud CM</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to the
    outer cloud's intensity-weighted center.

  <DT><STRONG>From Inner Cloud CG's to Outer Cloud CG</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to the
    outer cloud's geometric center.

  <DT><STRONG>From Inner Cloud CG's to Outer Cloud Surface</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to the
    outer cloud's surface.

  <DT><STRONG>From Inner Cloud CG's to Outer Cloud ZCenterPlane</STRONG>
  <DD>Determines the distance from each inner cloud's geometric center to the
    outer cloud's central z plane.

  <DT><STRONG>From Inner Point Objects to Each Other</STRONG>
  <DD>Determines the distances between all inner points and the distribution
    of those distances.

  <DT><STRONG>From Inner Point Objects to Outer Cloud CM</STRONG>
  <DD>Determine the distance between each inner point object and the outer
    cloud's intensity-weighted center.

  <DT><STRONG>From Inner Point Objects to Outer Cloud CG</STRONG>
  <DD>Determine the distance between each inner point object and the outer
    cloud's geometric center.

  <DT><STRONG>From Inner Point Objects to Outer Cloud Surface</STRONG>
  <DD>Determine the distance between each inner point object and the outer
    cloud's surface.

  <DT><STRONG>From Inner Point Objects to Outer Cloud ZCenterPlane</STRONG>
  <DD>Determine the distance between each inner point object and the outer
    cloud's central z plane.

  <DT><STRONG>From Inner Point Objects to Region</STRONG>
  <DD>Creates a set of n concentric regions where the ith region (i in 0 to n)
    has the same shape as the outer cloud, but the distance between any point
    in the region and the region's center is ((n-i)/n)^(1/3) times the
    equivalent distance in the outer cloud.  Then, for each inner point,
    determines the index of the smallest region that contains the point.

  <DT><STRONG>From All Point Objects to Each Other</STRONG>
  <DD>Determines the distance between all point objects and the distribution of
    those distances.

  <DT><STRONG>From All Point Objects to Outer Cloud CM</STRONG>
  <DD>Determine the distance between each point object and the outer cloud's
    intensity-weighted center.

  <DT><STRONG>From All Point Objects to Outer Cloud CG</STRONG>
  <DD>Determine the distance between each point object and the outer cloud's
    geometric center.

  <DT><STRONG>From All Point Objects to Outer Cloud Surface</STRONG>
  <DD>Determine the distance between each point object and the outer cloud's
    surface.
</DL>

<P>For measurements involving randomly generated points, the measurements
are either reported as a histogram or as the raw distance values depending
on whether or not the
<A HREF="#BinRandom">"bin random measurements" toggle</A> is on.
It is not currently possible to generate both the histogram and raw distance
values in the same run for the measurements involving randomly generated
points.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

<H2><A NAME="CloudModels">Cloud Models</A></H2>
<P>Use the "Cloud Models" button in the main Clouds dialog to write a
description of the generated clouds which <A HREF="3DModel.html">3D Model</A>
can read and display.  A dialog will appear to prompt you for the name
of the file to write (or you can select it with a file dialog by pressing the
"getfile" button).  Press the "Save" button in that dialog to generate the
file.  A cloud will be created for every volume object that has been loaded
into the program.

<P><A HREF="#Clouds">Return to overview</A>
<HR>

</BODY>
</HTML>
