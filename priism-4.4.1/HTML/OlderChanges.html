
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Older Changes in IVE/Priism</TITLE>
  <META NAME="Description" CONTENT="Summarizes older changes to IVE/Priism.">
  <META NAME="Keywords" CONTENT="Priism,IVE,changes">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1><A NAME="OlderChanges">Older Changes In IVE/Priism</A></H1>
<H2>Overview</H2>
<P>Changes are broken down by the version in which they were incorporated.
Older releases are:

<OL>
  <LI><A HREF="#IVE4.1.9">IVE 4.1.9</A> (internal; June 3, 2004)
  <LI><A HREF="#IVE4.1.8">IVE 4.1.8</A> (March 15, 2004)
  <LI><A HREF="#IVE4.1.7">IVE 4.1.7</A> (November 17, 2003)
  <LI><A HREF="#IVE4.1.6">IVE 4.1.6</A> (internal; October 10, 2003)
  <LI><A HREF="#IVE4.1.2.1">IVE 4.1.2.1</A> (August 21, 2003)
  <LI><A HREF="#IVE4.1.5">IVE 4.1.5</A> (internal; May 2003)
  <LI><A HREF="#IVE4.1.4">IVE 4.1.4</A> (internal; March 17, 2003)
  <LI><A HREF="#IVE4.1.3">IVE 4.1.3</A> (internal; December 10, 2002)
  <LI><A HREF="#IVE4.1.2">IVE 4.1.2</A> (December 5, 2002)
  <LI><A HREF="#IVE4.1.1">IVE 4.1.1</A> (internal; September 18, 2002)
  <LI><A HREF="#IVE4.1.0">IVE 4.1.0</A> (internal; September 12, 2002)
  <LI><A HREF="#IVE4.0.11">IVE 4.0.11</A> (internal; August 12, 2002)
  <LI><A HREF="#IVE4.0.10">IVE 4.0.10</A> (internal; July 24, 2002)
  <LI><A HREF="#IVE4.0.9">IVE 4.0.9</A> (internal; July 17, 2002)
  <LI><A HREF="#IVE4.0.8">IVE 4.0.8</A> (June 21, 2002)
  <LI><A HREF="#IVE4.0.7">IVE 4.0.7</A> (May 20, 2002)
  <LI><A HREF="#IVE4.0.6">IVE 4.0.6</A> (internal; March 14, 2002)
  <LI><A HREF="#IVE4.0.5">IVE 4.0.5</A> (March 5, 2002)
</OL>

<H3>Related Priism Topics</H3>
<P>
  <A HREF="Priism.html">Priism</A> |
  <A HREF="RecentChanges.html">Recent changes</A> |
  <A HREF="Limitations.html">Known problems</A> |
  <A HREF="BugReport.html">Reporting problems</A> |
  <A HREF="http://msg.ucsf.edu/IVE/Download/index.html">Priism download site</A>
<HR>


<H2><A NAME="IVE4.1.9">IVE 4.1.9</A></H2>
<P>Features added in 4.1.9 are:
<UL>
  <LI>Reworked coordinate calculations in the EM tomographic reconstruction
    applications, ewbp and tapir, to improve speed.
  <LI>Added capability to scale to 8-bit in mrc2tiff.
  <LI>The initial output size for VolumeViewer is now the size for which the
    entire input can be rotated without clipping.
  <LI>Modified WMChangeText so it works with the buttons generated by
    WMAddGetFile.
</UL>

<P>Problems fixed in 4.1.9 are:
<UL>
  <LI>Switching back and forth between virtual desktops in KDE 3.2 no longer
    causes all image windows to become iconified.
  <LI>Corrected the handling of per-section scaling and statistics fields when
    a scratch window fills up.
  <LI>Removed memory leaks when an image window with overlayed graphics was
    deleted or overwritten.
  <LI>Image windows incorrectly pruned the list of clients when a client
    went away without warning.
  <LI>Corrected the fallback scaling calculation in image windows to cover
    the case where the input data is 32-bit signed integers.
  <LI>Modified the 3D cursor to avoid missing button release events on Mac OS
    X.
  <LI>PostScript output can now be printed directly by the Mac OS X Print
    Center.
  <LI>2d_plot no longer crashes if unable to load the plot file.
  <LI>Modified 3DModel so it would not crash when changing colors in
    certain circumstances.
  <LI>Changed the printing of the scale fields in CopyRegion to protect
    against buffer overflows.
  <LI>Corrected the deconvolution front-end to expand shell variables when
    testing whether an entry in CTF.def is a pupil function or OTF.
  <LI>Changed ewbp so the input y line increment is factored into the pixel
    spacing included in the reconstruction's header.
  <LI>Changed tapir so if -proj_pros=1 is not supplied on the command line,
    tapir still fills the padded areas with the value that indicates that
    no data is available in those areas.
  <LI>Corrected bead alignment for tomographic data so that the initial
    guess calculation works if the z coordinates are fixed.
  <LI>ImgToMat did not allocate the correct size for a buffer when generating
    a command-line script.
  <LI>Restructured the Movie application dialog so that it would fit
    on small screens even if there are many open image windows.  Removed
    busy wait in the Movie application.
  <LI>Corrected enabling/disabling of single/multiple page controls in mrc2tiff
    when a new file is loaded.
  <LI>When not rendering with a VolumePro 1000 board, Volume Viewer would
    crash in rgb/opacity mode if the <VAR>n</VAR> selected wavelengths were
    not the first <VAR>n</VAR> available wavelengths.
  <LI>Made a number of corrections to the erase options in Volume Viewer:
    the invert3d erase option now works as documented, rescaling of the input
    now correctly updates the erased data window in the invert2d and invert3d
    cases, update of controls in the erase dialog no longer has unexpected
    side effects in the main dialog.
  <LI>Disable the "Do it" button in Volume Viewer until a file is loaded;
    in previous versions pressing the "Do it" button when no file had been
    selected caused a crash.
  <LI>Modified WMAddGLwMDrawWidget() to not die on an X error when asked to
    create a drawing area in an already realized dialog.
  <LI>The restore button added by WMAddSaveButton() would not function
    correctly in applications with one or more on/off status indicators.
    Removed a memory leak when saving the state of an application with a
    function button list.
  <LI>Modified WMRegMouseButton() to work with buttons 4 and 5 and
    WMUnRegMouseButton() to work with button 1.
  <LI>WMSetSubExitFunc(0) was not strictly the same as WMSetExitFunction()
    as intended with the changes in version 4.1.4.
  <LI>In previous versions, the WM library did not correctly handle reducing
    the size of a scrolled list by two or more items.
  <LI>WM.inc had swapped the definitions for WM_RIGHT_ARROW and WM_LEFT_ARROW.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.8">IVE 4.1.8</A></H2>
<P>Features added in 4.1.8 are:
<UL>
  <LI>Added a command-line interface for ImgToMat.
  <LI>Added a C language interface to the iomenu routines.
  <LI>(UCSF version only) Modified the deconvolution application to
    include depth-dependent deconvolution and the ability to use pupil
    functions or non-radially symmetric OTFs as the description of the imaging
    conditions.  The handling of apodization (now more like standard
    tapering) and the smoothing filter (if the analytic expression would be
    significantly truncated in the frequency domain, compute in the spatial
    domain and transform) has changed.  Added some command-line applications
    (<A HREF="phretavr.html">phretavr</A>, <A HREF="pffit.html">pffit</A>,
    <A HREF="pf2psf.html">pf2psf</A>, and <A HREF="pfimage.html">pfimage</A>)
    to manipulate pupil functions.
</UL>

<P>Problems fixed in 4.1.8 are:
<UL>
  <LI>Fixed the interactive bead alignment application so that turning on
    the "Image" toggle button when the data had not been loaded into a window
    and then turning of the "Image" toggle button does not cause the
    application to crash.
  <LI>Corrected mrc2tiff and mrc2txt so that they generate correct output
    when asked to convert less than the full x/y range of the input.
  <LI>Corrected problems in Line Profile that could cause it to report
    the incorrect width for the closest peak or to garble the displayed
    peak width values when there was no peak.  Modified Line Profile to
    keep the z and time values in the XYZT field in sync with the displayed
    section in the current window.
  <LI>Corrected a problem that caused region selection (or the box that
    Examine Data draws around the displayed region) to break drawing in
    image windows on some Macs with Apple's X11.
  <LI>Protected against an image window crash if asked to scale a very
    limited floating-point range.
  <LI>Removed artifacts (due to the behavior of atan2(0,0)) in the display,
    profiles, and histograms of the phase of complex data.
  <LI>Modified the IM library so the sequence of calls, IMPosn(), IMWrSec(),
    IMAlSiz(), and IMWrHdr(), works to extend an image file and update the
    header.
  <LI>Corrected a problem that could cause the front-ends to command-line
    applications to not be able to overwrite a preexisting command file via
    NFS.
  <LI>Modified the front-ends to command-line applications write out the
    command-line option for the time range if the time step is different than
    one.  Also modified the front-ends to command-line applications so that
    the time step is reset when the user selects a new file.
  <LI>Added <A HREF="iomenu.html">documentation for the iomenu interface</A>.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.7">IVE 4.1.7</A></H2>

<P>Features added in 4.1.7 are:
<UL>
  <LI>Added DataViews-&gt;Rotation-&gt;Reverse, an application to reverse one
    or more of the x, y, and z axes.
  <LI>Changed EditHeader's interface to include controls to change the mapping
    of rows, columns, and sections to x, y, z and to provide better feedback
    when changing the titles (because of the new controls and other changes,
    now use EditHeader.save in the user's home directory rather then menu.save
    for EditHeader's Save and Restore buttons).
</UL>

<P>Problems fixed in 4.1.7 are:
<UL>
  <LI>Extended the field for the image scaling in Display Attributes to
    accommodate a wider variety of scaling values.
  <LI>Fixed EditHeader so pressing Close File when no file is open does not
    cause the application to crash.  Removed the number of wavelengths control
    which duplicated (and was not kept in sync with) the corresponding value
    in the ZWT field.  Now use multiple columns to display the
    extended header entries if there are a large number of entries per
    section.
  <LI>Fixed Examine so it does not crash when the width is reduced till no
    columns of data are visible.
  <LI>Fixed Image Arithmetic to write out correct batch scripts when the
    "use region from first input" toggle is on.
  <LI>Line Profile did not remove image window graphics when closed from
    a window manager.
  <LI>Changed Bead Finder to improve speed and more gracefully handle
    situations when the number of candidate features would exceed an
    internal limit.
  <LI>Generate a less cryptic error message if unable to write the script
    from CCDCor and similar user interfaces.
  <LI>Corrected instances where command-line applications wrote binary
    characters to log files.
  <LI>Fixed problems with the cursor in image windows (the cursor in grab
    and stereo mode did not appear with Mac OS X systems and XFree86 run
    in rootless mode; on Linux with XFree86 4.3 the crosshair cursor did not
    appear and, if the grab mode was used, the grab cursor would not go away).
  <LI>IMTrFmt is now functional (caused problems with little-endian data
    loaded into a window with ViewFile).
  <LI>For IMRtFmt, an image window now indicates that its format is
    little-endian on little-endian systems and big-endian on big-endian
    systems.  Previously, image windows always said their format was
    big-endian.
  <LI>Corrected or clarified the descriptions for the mx, my, mz, dx, dy,
    dz, alpha, beta, and gamma fields in the MRC header.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.2.1">IVE 4.1.2.1</A></H2>
<P>Applied Precision requested that the deconvolution application
not be included in the publicly available version.  IVE 4.1.2.1 is
IVE 4.1.2 without the deconvolution application, sample OTFs, and the
supporting applications to help calculate OTFs.

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.6">IVE 4.1.6</A></H2>
<P>Features removed in 4.1.6 are:
<UL>
  <LI>Applied Precision requested that the deconvolution application
    not be included in the publicly available versions; therefore,
    the publicly available IVE 4.1.6 does not include the deconvolution
    application, sample OTFs, or helper applications specific to
    calculating OTFs.
</UL>

<P>Features added in 4.1.6 are:
<UL>
  <LI>CopyRegion will copy lower resolutions if the result would be the
    same as if the same resolutions were recalculated.
  <LI>Added an application to manipulate alignment parameter files for
    EM reconstruction:  can scale the shifts for resampling of the data
    or adjust the projections included.  Added an application to manipulate
    bead list files to account for changes in pixel spacing, image origin,
    or projection indices.
  <LI>Modified the bead alignment programs to accept alignment parameters
    in the .bprmMn format as well as the .bprm format.
  <LI>Added x86 Linux versions of the converters to and from Matlab's .mat
    format.
  <LI>Added versions of libimcompat.a that are compatible with g77
    and Intel's Fortran compiler; added a version of libiomenu.a that is
    compatible with Intel's Fortran compiler.
</UL>

<P>Problems fixed in 4.1.6 are:
<UL>
  <LI>Added a mechanism to reduce the likelihood that Priism attaches
    to a shared memory file from a dead session.
  <LI>Added protection against buffer overflows in the user interface
    fields for floating-point and integer value entries.
  <LI>On OS X, the "Restore" button in some graphical interfaces (front-
    end to decon or EM reconstruction, for instance) no longer causes
    labels to disappear.
  <LI>Changed the Linux plugin to save images as Quicktime movies so that
    it did not crash when writing uncompressed files or when it failed to
    open the output file.
  <LI>The deconvolution with the force 2D option now allows disabling of the
    prefilter by setting the prefilter limits to 0, 0.
  <LI>Changed Distance to allow it to work with complex-valued data sets.
  <LI>Changed EditHeader to avoid crashes when a user modifies a field
    and the file is not open.
  <LI>Changed Examine Data so it would not crash if the height of the
    window is reduced to the point that no rows of data are visible.
  <LI>Corrected the handling of limited range of projections in the final
    stage of bead alignment.
  <LI>Changed ewbp to record the correct mean value in the output header.
  <LI>In the case where the header's "sampling interval" values were different
    than one, Line Profile used incorrect values for the pixel spacing in the
    calculation of the peak width in header units.  Fixed.
  <LI>Changed Region Min/Max/Mean to correctly coerce z index upper bounds
    that are too large.
  <LI>Scale no longer crashes for scaling [3.4 x 10^38, -3.4 x 10^38, 0, 0].
  <LI>Corrected setup script for sh shells so IVE_SHMDIR is not changed if
    already set.
  <LI>Modified ivekill to make the cleanup of semaphores on OS X optional.
  <LI>Image windows did not correctly calculate fallback scaling for complex
    short pixel formats.
  <LI>Changed the method for determining whether or not to swap bytes in
    image data.  No longer use the ID field in the header for that purpose.
  <LI>Turning off display of graphics (via Options-&gt;Attributes in the
    image window or IWAlGrDis) now affects all 3D Model graphics as well.
  <LI>Changed IWGrAddMultStr, IWGrAddMultStr2D, IWGrAddLns, IWGrAddLns2D,
    IWGrAddMultLns, IWGrAddMultLns2D, IWGrAddPoly, IWGrAddPoly2D, IWGrAddPts,
    and IWGrAddPts2D to assign the graphics ID based on the correct z index.
    Changed IWGrAddMultStr and IWGrAddMultStr2D to correctly copy the
    label coordinates.
  <LI>Included declarations of IWStart, IWStop, and IWRetShmDirectory in
    the public headers.  Fixed spelling of IWAlDisDelay in the public headers.
    For IW library call prototypes, added const qualifiers to array arguments
    which are not modified in the function call.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.5">IVE 4.1.5</A></H2>
<P>Features added in 4.1.5 are:
<UL>
  <LI>Added more control over the behavior of the help system including
    defaults to work with common HTML browsers for Linux and Mac OS X; moved 
    control over the help system from the Priism-&gt;Help menu to the
    preferences dialog.
  <LI>Reworked the interactive bead list editor for bead alignment.  Editing
    of matched lists now allows generation of matched lists from scratch and
    reduces the amount of clicking necessary to reposition a point.
  <LI>Added an input parameter to bead_finder and bead_chaser so the user can
    have them perform the segmentation on a lower resolution (helpful for low
    SNR data or to speed up operation).
  <LI>Added translations to turn scroll wheel events into scrolling actions
    for text fields, scrolled lists, and scroll bars.
  <LI>For Image Capture on Linux systems, added the ability to generate
    QuickTime movies via Quicktime 4 Linux.
  <LI>In 3D Model, separated the operations of animating the model display
    and saving a movie; saving a movie now supports formats other than TIFF
    via the image capture plugin mechanism.
  <LI>Added option to EMRECON to display massnorm fit results.
</UL>

<P>Problems fixed in 4.1.5 are:
<UL>
  <LI>Increased the default working unit size to 16 megabytes.
  <LI>Changed massnorm so it can run without an input alignment parameter file.
  <LI>Changed decon and ffilter to avoid "nwork too small" errors when
    processing in 2D.
  <LI>The decon user interface did not correctly terminate OTF file names
    read from CTF.def.
  <LI>Changed ffilter so that it would not crash at exit if the otf file is
    "none".  Changed the ffilter user interface to not force an existence
    check on the optional otf input and to correctly pass the z padding and
    2D processing options to the command-line application.
  <LI>Changed bead_matcher and bead_chaser so they would not die when run
    with an sbl file on OS X.
  <LI>Fixed image windows so that overwriting an image window not currently
    displaying the highest resolution does not result in garbled images.
  <LI>Changed image windows so that image windows start up properly when
    a pseudocolor visual is not available and the user has set a custom
    set of graphic colors.
  <LI>Changed image windows to correctly handle split screen stereo and
    interpolated zoom.
  <LI>Changed image windows so that stepping in z or time with the cursor
    keys keeps the multiple waves in synchrony when images are displayed in
    matrix mode with the step direction in waves.
  <LI>For stereo display of tilt series, changed image windows to correctly
    choose the images for the right and left eye regardless of the sign
    of the angle increment.
  <LI>Changed Volume Viewer to avoid misalignment of models in monoscopic
    displays, to not apply a different scaling to the left and right images for
    stereo displays, and to not attempt to use a 2 x 1 display mode if the
    output window is using hardware stereo.
  <LI>For user interfaces like those for decon and EMRECON, changed so that
    entering an existing file for the primary input and then entering an
    empty file name for the primary input does not cause the application to
    exit on OS X.
  <LI>Changed handling of user interface control to start a job so that
    it is possible to close the user interface before the job completes.
  <LI>For bead alignment, loosened tolerances to make picking easier in
    zoomed down images.
  <LI>Modified the image window Clear Graphics option to correctly redraw
    the display if graphics not clipped by the image boundaries are present.
  <LI>Changed the interactive last step of bead alignment so that adding a
    position updates the image window and error display immediately.  Sped
    up resizes of the error display by avoiding redrawing labels unless
    necessary.
  <LI>Fixed a change from 4.1.4 that causes file dialogs to appear in the
    top left corner when used with some window managers or when used with
    LessTif.
  <LI>Modified ivekill to extract the process group ID from running Priism
    or image window processes rather than relying on stored value on disk.
    Made the kill more reliable on OS X.
  <LI>Modified the IW library so that IWAlSecScl, IWRtSecScl, IWAlSecMMM,
    IWRtSecMMM, IWAlZWTMMM, IWRtZWTMMM, IWAlSecThreshold, and
    IWRtSecThreshold operate on parameters that apply to all resolutions.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.4">IVE 4.1.4</A></H2>
<P>Features added in 4.1.4 are:
<UL>
  <LI>The tiffmovie application from previous versions has been renamed
    "Image Capture".  It has the capability to use plugins to generate
    output in different formats.  For Mac OS X, a plugin is available to
    generate QuickTime movies.  For IRIX, the process of generating
    QuickTime movies automatically removes the intermediate TIFF files
    generated.
  <LI>Image windows and 3DModel can take advantage of quadbuffered stereo
    in a window on Linux if it is available.
  <LI>If an image window displays multiple resolution data, the current
    resolution shown is adjusted automatically when the user adjusts the
    zoom factor.
  <LI>Merged in changes to Volume Viewer from the version which used a
    Volume Pro 1000 board to do the rendering; now load the components
    specific to the Volume Pro 1000 as a plugin.
  <LI>Added support for dial boxes when used in conjunction with Xi Graphics
    X server.
  <LI>Added preference to prefer double- or single-buffered visuals for
    image windows.
</UL>

<P>Problems fixed in 4.1.4 are:
<UL>
  <LI>With Apple's X11, image windows took a long time to start.
  <LI>With Apple's X11, 3DModel would crash at startup.
  <LI>With Apple's X11 (version 0.1 only), BlendColors would crash when the
    color wheel dialog or color parameter dialog was opened.  ChangeColors
    would crash at startup.
  <LI>With Apple's X11, image windows did not properly clear the contents
    of the window when started.
  <LI>The ProcFunc framework did not allocate sufficiently large buffers
    for applications processing a complex-valued input and generating
    complex-valued output.
  <LI>Many of the command-line only applications did not gracefully handle
    cases where an input or output file could not be opened.
  <LI>Removed an undocumented limit of 256 polygons per section from
    FindPoints and Volume Builder
  <LI>Fixed problems in rotfast that caused it to generate blank images for
    tilts between 90 and 270 degrees and to set the image coordinate systems
    in the header differently than Volume Viewer does.
  <LI>3DModel would crash if asked to generate TIFF files but was unable to
    open one of them.
  <LI>BlendColors would crash on Mac OS X if asked to open a color parameter
    file and was unable to open the file.
  <LI>Scale assumed that the source data set remained fixed in size which
    is not true for the interactive output of Volume Viewer.
  <LI>The bead_finder and bead_chaser applications for EM data no longer assume
    that images are 1024 x 1024 or smaller.  Corrected problems in bead_chaser
    that caused it to access uninitialized data and replaced a slow sorting
    algorithm in bead_chaser with a faster one.
  <LI>In FFilter2D, FFilter3D, FPwrSpec2D, FPwrSpec3D, FTransform2D, and
    FTransform3D padding with a linear ramp in the frequency domain made use
    of an uninitialized variable.
  <LI>The dialog for selecting the region to reconstruct for EM data relied
    on the starting section number in the file header; instead, do a search
    for the matching tilt angle.
  <LI>The pixel spacing of the output from EWBP and TAPIR is forced to be
    isotropic which it must be since those two applications assume the
    input has square pixels.
  <LI>The section number display overlayed on images can now be controlled
    via the menus as well as by keystrokes.
  <LI>With the Preferences dialog and Merge/Reorder, the selected item from
    a scrolled list now stays in sync with the highlighted item.
  <LI>With LessTif, option menus used a different font for the currently
    selected item than for the entries in the menu.
  <LI>Empty scrolled lists no longer generate a Motif/LessTif warning
    about mismatching XmNitemCount and XmNitems.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.3">IVE 4.1.3</A></H2>
<P>Problems fixed in 4.1.3 are:
<UL>
  <LI>massnorm could crash in the histogram computation if the input had a
    few negative intensity values.
  <LI>The massnorm documentation did not define what -toffset=90 does.
  <LI>There was a buffer overrun in the scan for command-line options
    controlling padding (affected FFilter2D, FFilter3D, FPwrSpec2D,
    FPwrSpec3D, FTransform2D, and FTransform3D).
  <LI>Because of an uninitialized variable, FPwrSpec2D and FPwrSpec3D could
    generate incorrect results when the output y size is less than or equal
    to two and the user selected the option to center the zero frequency.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.2">IVE 4.1.2</A></H2>
<P>Features added in 4.1.2 are:
<UL>
  <LI>Command-line interfaces to FixBadPixel, FTransform2D, FTransform3D,
    FFilter2D, FFilter3D, FPwrSpec2D, FPwrSpec3D, HisEqual, LCE, Normalize,
    Rotate3D, RunProj, Threshold, and T-RunProj were added.  Retired rot3d_i
    and rot3d since Rotate3D now supplies a compatible command-line interface.
  <LI>By default, the script and log files used by the front-ends to
    CCDCor, deconvolution, EM alignment, EM reconstruction, and FindPoints
    (among others) are placed in the same directory as the input image file
    and not in the users home directory.
  <LI>Added documentation for the OTF format expected by the deconvolution
    application and an outline of a procedure to measure a OTF.  Added
    radialft_asym and superimpose_psf, two command-line applications to
    assist with generation of OTF files.
  <LI>Now use g++ as the C++ compiler for the basic Priism libraries on
    x86 and Alpha Linux systems and use linker scripts on those systems
    to hide internal symbols in the shared libraries.  Applications on Linux
    compiled with the new shared libraries will not run with versions of
    Priism prior to 4.1.2.  Applications with C++ code that were built with
    the Portland Group compiler on x86 Linux systems or the Compaq C++ compiler
    on Alpha Linux systems will likely require relinking to operate with the
    version 4.1.2.
  <LI>For x86 Linux systems, now allow up to 64-bit file offsets in image
    files.
  <LI>The environment variables to hook Priism to a queueing system now
    include QDEFAULT to specify the default destination.
  <LI>Interpolated zoom for Mac OS X is more heavily optimized.
  <LI>In FindPoints, added an option to fit the peak profile to a Gaussian
    profile in order to refine the position estimate.
  <LI>Added LCE3D, a simple-minded extension to 3D of the 2D local contrast
    enhancement application.
  <LI>The converters to and from Matlab's .mat format are now available for
    Mac OS X.  The IRIX version still uses Matlab converters which require
    Matlab 5; IRIX converters for Matlab 6.5 are available as a patch.  The
    installation script now asks questions about where Matlab is installed
    so it is not necessary to manually set library paths before running
    ImgToMat and MatToImg.
  <LI>Added mrc2txt which writes the data values from a Priism image file
    as columns of plain text.
  <LI>In addition to selecting pixels with intensities that are above or equal
    to a threshold, changed Threshold to have the option to select pixels with
    intensities below or equal to a threshold or pixels with intensities that
    match an arbitrary criteria.
  <LI>Incorporated the watershed segmentation application, Watershed.
</UL>

<P>Problems fixed in 4.1.2 are:
<UL>
  <LI>Modified applications so that they will accept file names up to 256
    characters long.  Some instances (the name that can be associated with
    the data in a Priism window, the name of the Priism shared memory
    file, and the length of the base part of the file name stored in the
    scale preferences) still have lower limits.
  <LI>The 4.1.0 version of the IP (ProcFunc) framework did not allocate enough
    memory if the input and output share a buffer and the output is complex
    (one symptom:  CopyRegion would dump core when asked to convert a file to
    complex).
  <LI>The IP (ProcFunc) framework handler for -no_overwrite intercepted all
    command-line options beginning with n.
  <LI>Made Priism somewhat more tolerant of cases where the value of the
    IVE_WORKING_UNIT environment variable is smaller than the size of a loaded
    section.  Can now load such data when Priism is initially started, but if
    shared memory has already been broken into chunks which are the size
    of IVE_WORKING_UNIT, the data can not be loaded.
  <LI>Because of bugs in the data collection software, some image files have
    labels which include binary characters.  Modified the IM library so
    that binary characters in labels are printed out as a backslash plus the
    character value in octal since printing the binary characters unmodified
    can put XFree86 X terminals in a strange state.
  <LI>Clarified that the maximum length passed to WMAddCharField and
    WMAddGetFile includes space for a terminating null.  This is what most
    applications had assumed.
  <LI>The HTML help system did not load pages correctly if netscape was a
    link to mozilla (observed with Mozilla 1.0.0).
  <LI>When using the LessTif library, the interactive final stage of the EM
    bead alignment would crash just before displaying its interface.
  <LI>The front-end to the deconvolution application had hardwired defaults
    for the default OTF for a given lens number.  The default OTF for a
    lens number is now configurable on a installation-wide basis by
    CONFIG/CTF.def or on a per-user basis by a CTF.def in the user's .iveprefs
    directory.
  <LI>EditHeader would crash if the user selected a file that did not exist
    and then selected a file that did exist.
  <LI>If the input had one or more leading sections completely filled with
    zeros, the first section with non-zero values written by FFilter2D
    would be autoscaled by the image window.
  <LI>FFilter3D and FTransform3D did not attempt to propagate the extended
    header.
  <LI>The FindPoints curve fit method would crash when run in batch mode.
  <LI>In FindPoints, fixed many instances where calculations would cause
    floating-point exceptions on Alpha processors.
  <LI>mrc2tiff has a memory leak and did not disable the template field
    at startup.
  <LI>Modified Merge/Reorder so that simply asking it to copy a file with
    a different interleaving does not scramble the sections.
  <LI>If Normalize wrote to a window, the first section in each wavelength
    was scaled differently than the rest of the wavelength.
  <LI>Rotate3D would crash when processing complex short data.
  <LI>The rolloff calculation in Rotate3D had instances of uninitialized
    variables.
  <LI>The perimeter average in Rotate3D excluded the y=0 and y=ny-1 rows
    for sections that were not the top or bottom sections.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.1">IVE 4.1.1</A></H2>
<P>Problems fixed in 4.1.1 are:
<UL>
  <LI>Models did not appear correctly in the second and later sections
    of VolumeViewer movie output if the z pixel spacing was different than
    the x and y pixel spacing.  The origin on interactive stereo windows
    corresponded to a rotation angle halfway between the two views
    rather than the rotation of the first view.
  <LI>Polynomial fits to complex input in the Fourier tools applications
    were incorrect.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.1.0">IVE 4.1.0</A></H2>
<P>Features added in 4.1.0 are:
<UL>
  <LI>The base for many Priism applications was extended to support
    command-line interfaces, text-only interaction, and additional
    capabilities for appending to existing data or overwriting an input.
    Applications which have been modified to take advantage of the
    command-line interface are: CopyRegion, Edge Enhancement, Filter2D,
    Filter3D, Find Border, Flip, Image Arithmetic, ReduceRes, and Resample2D.
  <LI>For the IRIX version, now use the FFTW libraries rather than SGI's
    Complib.
  <LI>EMRECON's elliptically-weighted backprojection for tomographic
    reconstructions is somewhat faster for typical cases.
  <LI>Volume Viewer now suppresses the background value when scaling
    interactive results.  This is done to avoid sudden scale changes when the
    rendered volume moves from completely within the dataset to partially
    outside.
</UL>

<P>Problems fixed in 4.1.0 are:
<UL>
  <LI>Because of a logic error, synchronization between applications and
    image windows failed after a "force unlock" message was printed; the
    failure of synchronization would generally lead to image window crashes
    later.
  <LI>Swapping data in and out of image windows used calculations that would
    would mishandle file offsets greater than 2 GiB on systems that support
    such offsets.
  <LI>Copy Region would generate IMILsec_loc was -1 messages when run with
    the RGB toggle on.
  <LI>Copy Region when converting data to byte format could use a range
    different than 0 to 255 depending on the system graphics hardware and
    software; the range is now 0 to 255 in all cases.
  <LI>Edge Enhancement would incorrectly set the data range values and scaling
    parameters when processing data with two z sections.
  <LI>EMRECON's elliptically-weighted backprojection would crash and not
    give a helpful message if unable to open the input or output data set.
  <LI>EMRECON's elliptically-weighted backprojection would fail if the width
    of the tilt series was greater than 1024.  The new limit is 16384.
  <LI>The mechanism for suggesting file names in the EMRECON applications
    replaced everything after the first '.' in the name; changed so those
    applications replace everything after the last '.' when suggesting file
    names.
  <LI>Find Points would crash during Region Growing in some cases; the
    widths reported in the column data output from Find Points may have been
    too large in some cases.
  <LI>Volume Viewer did not account for prior rotations when setting the
    tilt angles for its output.  Movie output did not have correct origin
    and pixel spacing values for zoom factors different than one.
  <LI>Convolution, NewConvolution, and T-RunProj reported the incorrect mean
    value for the first wavelength.
  <LI>Applications which set the file pointer via IMPosn, IMPosnZWT, or
    implicitly with IMAlZWT and then modified the extended header size or
    data size would then have a file pointer at an inconsistent location.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.11">IVE 4.0.11</A></H2>

<P>Problems fixed in 4.0.11 are:
<UL>
  <LI>Image windows would crash or display incorrect results when asked to
    display multiple wavelengths with different offsets in RGB mode and
    at a zoom less than one.
  <LI>The Reset button in Volume Viewer set the center inappropriately if
    a preloaded region was used whose origin was not (0, 0, 0).
  <LI>The input scaling dialog in Volume Viewer recalculated the histogram
    when it was not necessary to do so.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.10">IVE 4.0.10</A></H2>

<P>Features added in 4.0.10 are:
<UL>
  <LI>For mice with scroll wheels, if the scroll wheel is mapped to buttons
    4 and 5 (which appears to be common practice) the image windows will
    respond to the scroll wheel by moving up and down through the image stack.
  <LI>Added user preferences to control autorepeat for the image windows.
  <LI>VolumeViewer's RGB/Opacity projection method only worked when the input
    had four wavelengths.  Modified to work with any number of wavelengths.
    With one wavelength, that wavelength is used for both intensity and opacity
    (and thus is identical to the Progressive method).  With two to four
    wavelengths selected, the last selected wavelength is used as the opacity
    channel and the others provide intensity information.  With five or more
    wavelengths selected, only the first four wavelengths are used and the
    fourth selected wavelength is used as the opacity channel.
  <LI>Added a button in VolumeViewer's dialog and a hot key to reset the
    orientation.
  <LI>Extended VolumeViewer's options for handling of out-of-range values when
    scaling the input data.
</UL>

<P>Problems fixed in 4.0.10 are:
<UL>
  <LI>Handling of autorepeat in image windows has been improved.  It was
    too fast (reported for 2GHz P4 systems) or jerky (on Mac OS X systems).
  <LI>With a click-to-type focus policy and KDE 2.0's default window manager,
    region selection was canceled after releasing the mouse button and not
    when the mouse left the image window.
  <LI>TIFF output from 3DModel and TiffMovie was saved with a non-default
    orientation which caused some TIFF readers (Mac OS X's Preview and
    and Priism's Tiff2mrc for instance) to generate images with the incorrect
    orientation.
  <LI>3DModel did not allow the root part of TIFF output file names to be
    long enough.
  <LI>ccdcor would exit if the input data set did not have an extended header.
  <LI>EditHeader would crash if the specified file was a directory.
  <LI>MeasureFPS's continuous sampling mode displayed incorrect results if no
    samples were recorded.
  <LI>The Priism menu bar would not appear on some Linux configurations (Debian
    woody, for instance) because a buffer overflow caused an application crash.
  <LI>If a set of Priism preferences was stored in a file whose name contained
    whitespace and those preferences were selected as the current profile,
    the default preferences would be used instead.
  <LI>Changed the default compression mode to none in TiffMovie since whether
    or not LZW compression is supported since unpatched versions of libtiff
    later than 3.5.2 generate uncompressed results when asked for LZW
    compression.
  <LI>VolumeViewer could crash when asked to load a file after viewing another
    file.
  <LI>VolumeViewer had problems switching between to and from the RGB/Opacity
    projection method.
  <LI>VolumeViewer assumed that the data viewed had at most 512 sections.
  <LI>VolumeViewer would crash on Linux systems after the user selected
    the option to scale the input data.
  <LI>VolumeViewer ignored the third (exponent) and fourth (handling
    of out of range values) when scaling input data.
  <LI>VolumeViewer mechanism for determining if a dial box is present was
    not compatible with XFree86.
  <LI>VolumeViewer would not display a refined image after dial input had
    ceased.
  <LI>The IM library call IMAlWav would not update the wavelength toggle
    labels in the Monitor correctly.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.9">IVE 4.0.9</A></H2>

<P>Problems fixed in 4.0.9 are:
<UL>
  <LI>Contrary to the documentation, a call to IMUnit would crash if the
    stream was not open.
  <LI>Consecutive writes to a scratch window without an intervening IMPosn
    call would stop appending data to the window.
  <LI>The istart parameter to IMRtExt and IMAlExt was not interpreted
    like it was in IVE 3.3 and earlier versions of Priism.
  <LI>IM library documentation did not correctly represent the ordering
    of the x, y, and z origin fields in the header.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.8">IVE 4.0.8</A></H2>

<P>Features added in 4.0.8 are:
<UL>
  <LI>Packaged the deconvolution application and additional FFT-based
    applications (those in Priism's Fourier Tools menu) for x86
    Linux and Mac OS X.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.7">IVE 4.0.7</A></H2>

<P>Features added in 4.0.7 are:
<UL>
  <LI>Ported most modeling applications (the exception is Clouds), TiffMovie,
    2D Plot, and the image window printing utility from Priism 3.3.
  <LI>Added mrc2tiff to convert directly to TIFF.
  <LI>Scale remembers the histogram bounds for each wavelength as long as it
    remains active.
  <LI>Rearranged user interface for the preferences editor.
  <LI>Changed the default fonts for confirmation, error, information, and
    file selection dialogs to be similar to those used for other widgets.
  <LI>Made a version for IRIX available since feature set is now much closer
    to IVE 3.3.
</UL>

<P>Problems fixed in 4.0.7 are:
<UL>
  <LI>Image windows did not properly display signed 32-bit integer (long) data.
  <LI>For IW_COMPLEX_SHORT data, image windows did not allow choice
    to view the magnitude, phase, real component, or imaginary component.
  <LI>Redisplay of the image window using the fast graphics calls could cause
    the graphics on the image to be shown with incorrect colors.
  <LI>ive_conf.h reset _XOPEN_SOURCE and other feature-set macros.
  <LI>The lookup mechanisms for IWAlcNamedSHM and IWFindNamedSHM were not
    synchronized.
  <LI>The temporary files used to hold data swapped out of the shared memory
    file had names that would conflict with those of another user.
  <LI>WMGetFile modified one of the obsolete arguments that the
    documentation suggested would not be accessed.
  <LI>Multiple file selection dialogs created via WMGetFile would interfere
    with each other if active at the same time.
  <LI>The old-style help viewer had a memory leak.
  <LI>The window for the old-style help viewer would appear when Priism was
    started on Linux or Mac OS X.
  <LI>Many applications would place themselves at locations that were off the
    screen for monitors that run at less than 1280 x 1024 resolution.  Added
    WM calls so applications could get the display resolution and make more
    sensible placement decisions.
  <LI>Applications based on the IP framework did not allow the user to force
    the output to be complex short, 16-bit unsigned integer, or 32-bit signed
    integer.
  <LI>applycal would improperly complain about opening the bad pixel list on
    Alpha Linux systems.
  <LI>The bead list display and editing utility for tomographic data did not
    handle unsigned 16-bit and signed 32-bit image data.
  <LI>Blend Colors did not take into account how the Mode menu was set.
  <LI>Edit Header did not recognize the codes for the unsigned 16-bit integer
    and signed 32-bit integer pixel formats.  EditHeader would crash if
    an unrecognized pixel format was encountered.
  <LI>Merge/Reorder did not handle unsigned 16-bit and signed 32-bit image
    data.
  <LI>The preferences editor would leave the save option disabled when a
    new profile was created.
  <LI>Rotate 3D would write the output file header incorrectly if writing
    multiple wavelengths or time points to a file.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.6">IVE 4.0.6</A></H2>

<P>Features added in 4.0.6 are:
<UL>
  <LI>Added calls to the IW library to set and retrieve a recommended threshold
    (either on a per-section or per-wavelength level) for an image window.
    Modified Scale to include an option which modifies the recommended
    threshold level.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

<H2><A NAME="IVE4.0.5">IVE 4.0.5</A></H2>

<P>Problems fixed in 4.0.5 are:

<UL>
  <LI>For image windows created by View File, applications which read small
    chunks of the data could receive data that had not been appropriately
    byte swapped.  Most likely noticeable for profiles created by Line Profile
    along the z or time dimension.
  <LI>The region selection mechanism and similar interactions with image
    windows did not work with click-to-type focus policies.  Corrected two
    problems in libSelectRegion.a which affected Region Min/Max/Mean and Volume
    Viewer:  translating an existing region did not work and initialization
    for non-square datasets was incorrect.
  <LI>Priism 4.0.4 required libGLU.so.1 on Linux.  Since libGL and libGLU
    will typically be installed as part of the same package but the Linux
    Standard Base specification mandates libGL.so.1 and not libGLU.so.1,
    it is more convenient if Priism does not require libGLU.so.1.
</UL>

<P><A HREF="#OlderChanges">Return to overview</A>
<HR>

</BODY>
</HTML>
