<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Reference: IVEAddWorkProc</TITLE>
  <META NAME="Author" CONTENT="Eric Branlund">
  <META NAME="Description" CONTENT="Defines the behavior of IVEAddWorkProc.">
  <LINK REV=MADE HREF="mailto:eric@msg.ucsf.edu">
</HEAD>

<BODY>

<H1>Reference: IVEAddWorkProc</H1>
<H2>Overview</H2>
<P>Registers a routine that will be called by
<A HREF="IVEEventLoop.html">IVEEventLoop</A> or
<A HREF="IVEProcessEvent.html">IVEProcessEvent</A> when there are no other
events to process and the calling thread would otherwise block to wait for
events.  If you register more than one work procedure, the latest one
registered which has not yet been removed will be called when an event
processing function would block.

<H2>Prototype (C)</H2>
<P><CODE>#include "ive_eventloop.h"</CODE>
<BR><CODE>IVEWorkProcId IVEAddWorkProc(IVEWorkProc proc, void* arg, IVEEventContext context);</CODE>
<H2>Prototype (Fortran)</H2>
<P><CODE>integer function IVEAddWorkProc(proc, arg, context)</CODE>
<BR><CODE>integer context</CODE>
<BR><CODE>integer arg(*)</CODE>
<BR><CODE>external proc</CODE>
<H2>Parameters</H2>
<DL>
  <DT><VAR>proc</VAR><DD><VAR>proc</VAR> is the callback routine.  If a thread
    makes a blocking call to
    <A HREF="IVEProcessEvent.html">IVEProcessEvent</A> or is waiting in an
    <A HREF="IVEEventLoop.html">event loop</A> and, in either case, there
    are no other events to process, the thread will call <VAR>proc</VAR>.
  <DT><VAR>arg</VAR><DD><VAR>arg</VAR> is not used internally but is passed
    along as an argument to <VAR>proc</VAR>.
  <DT><VAR>context</VAR><DD><VAR>context</VAR> is the context to which the
    event source will be added.
</DL>
<H2>Return value</H2>
<P>Returns a non-zero value if successful.  Returns zero if not.  You can
remove the work procedure by passing the returned ID to
<A HREF="IVERemoveWorkProc.html">IVERemoveWorkProc</A>.  The work procedure
is automatically removed when the callback associated with it finishes.
<H2>Cross references</H2>
<P><A HREF="IVEEventLoop.html">IVEEventLoop</A>,
<A HREF="IVEProcessEvent.html">IVEProcessEvent</A>,
<A HREF="IVERemoveWorkProc.html">IVERemoveWorkProc</A>,
<A HREF="IVEEventContext.html">IVEEventContext</A>,
<A HREF="IVEWorkProc.html">IVEWorkProc</A>, and
<A HREF="IVEWorkProcId.html">IVEWorkProcId</A>

<HR>

<P>| <A HREF="Categories.html">categories</A>
   | <A HREF="Alphabetical.html">alphabetical</A>
   |

<HR>

<P>modified September 20, 2007
<ADDRESS>
  Eric Branlund (<A HREF="mailto:eric@msg.ucsf.edu">eric@msg.ucsf.edu</A>)
</ADDRESS>

</BODY>
</HTML>
