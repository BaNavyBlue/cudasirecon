<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Reference: IVEAddSignal</TITLE>
  <META NAME="Author" CONTENT="Eric Branlund">
  <META NAME="Description" CONTENT="Defines the behavior of IVEAddSignal.">
  <LINK REV=MADE HREF="mailto:eric@msg.ucsf.edu">
</HEAD>

<BODY>

<H1>Reference: IVEAddSignal</H1>
<H2>Overview</H2>
<P>With the exception of <A HREF="IVENoticeSignal.html">IVENoticeSignal</A>,
the IVE event processing routines can not be safely called from an asynchronous
signal handler.  If the event processing routines need to be called in response
to an asynchronous signal, use the following procedure:
<OL>
  <LI>Use IVEAddSignal to register the callback routine which implements the
    response to the asynchronous signal with IVEAddSignal.
  <LI>When an asynchronous signal is received, call IVENoticeSignal from the
    signal handler passing the value returned by IVEAddSignal as the ID.
</OL>
<P>No guarantee is provided that every call to IVENoticeSignal will generate
a call to the registered callback routine.
<H2>Prototype (C)</H2>
<P><CODE>#include "ive_eventloop.h"</CODE>
<BR><CODE>IVESignalId IVEAddSignal(IVESignalProc proc, void* arg, IVEEventContext context);</CODE>
<H2>Prototype (Fortran)</H2>
<P><CODE>integer function IVEAddSignal(proc, arg, context)</CODE>
<BR><CODE>integer context</CODE>
<BR><CODE>integer arg(*)</CODE>
<BR><CODE>external proc</CODE>
<H2>Parameters</H2>
<DL>
  <DT><VAR>proc</VAR><DD><VAR>proc</VAR> is the callback routine.  Given
    a successful call to IVEAddSignal which returned <VAR>id</VAR>, a
    thread which calls <A HREF="IVEProcessEvent.html">IVEProcessEvent</A>
    or is waiting in an <A HREF="IVEEventLoop.html">event loop</A> can call
    <VAR>proc</VAR> if one or more
    IVENoticeSignal(<VAR>id</VAR>, <VAR>context</VAR>) calls have been
    made since <VAR>id</VAR> was registered or since <VAR>proc</VAR> was
    last invoked because of its association with <VAR>id</VAR>.
  <DT><VAR>arg</VAR><DD><VAR>arg</VAR> is not used internally but is passed
    along as an argument to <VAR>proc</VAR>.
  <DT><VAR>context</VAR><DD><VAR>context</VAR> is the context to which the
    event source will be added.
</DL>
<H2>Return value</H2>
<P>Returns a non-zero value if successful.  Returns zero if not.  When
the event source is no longer of interest, it can be removed by passing
the returned ID to <A HREF="IVERemoveSignal.html">IVERemoveSignal</A>.
<H2>Cross references</H2>
<P><A HREF="IVEEventLoop.html">IVEEventLoop</A>,
<A HREF="IVEProcessEvent.html">IVEProcessEvent</A>,
<A HREF="IVERemoveSignal.html">IVERemoveSignal</A>,
<A HREF="IVENoticeSignal.html">IVENoticeSignal</A>,
<A HREF="IVEEventContext.html">IVEEventContext</A>,
<A HREF="IVESignalId.html">IVESignalId</A>, and
<A HREF="IVESignalProc.html">IVESignalProc</A>


<HR>

<P>| <A HREF="Categories.html">categories</A>
   | <A HREF="Alphabetical.html">alphabetical</A>
   |

<HR>

<P>modified September 20, 2007
<ADDRESS>
  Eric Branlund (<A HREF="mailto:eric@msg.ucsf.edu">eric@msg.ucsf.edu</A>)
</ADDRESS>

</BODY>
</HTML>
