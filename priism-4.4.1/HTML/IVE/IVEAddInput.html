<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Reference: IVEAddInput</TITLE>
  <META NAME="Author" CONTENT="Eric Branlund">
  <META NAME="Description" CONTENT="Defines the behavior of IVEAddInput.">
  <LINK REV=MADE HREF="mailto:eric@msg.ucsf.edu">
</HEAD>

<BODY>

<H1>Reference: IVEAddInput</H1>
<H2>Overview</H2>
<P>Adds an event source that triggers an event when something is ready for
input or output.
<H2>Prototype (C)</H2>
<P><CODE>#include "ive_eventloop.h"</CODE>
<BR><CODE>IVEInputId IVEAddInput(IVEDesc desc, int reason, IVEInputProc proc, void* arg, IVEEventContext context);</CODE>
<H2>Prototype (Fortran)</H2>
<P><CODE>integer function IVEAddInput(desc, reason, proc, arg, context)</CODE>
<BR><CODE>integer desc, reason, context</CODE>
<BR><CODE>integer arg(*)</CODE>
<BR><CODE>external proc</CODE>
<H2>Parameters</H2>
<DL>
  <DT><VAR>desc</VAR><DD><VAR>desc</VAR> is the input or output source
    (i.e. a file descriptor or handle) which is to be monitored.
  <DT><VAR>reason</VAR><DD>For a POSIX system, <VAR>reason</VAR> may be
    a bitwise or of one or more of the following (in Fortran, these constants
    can be found in ive_eventloop.inc):
    <DL>
      <DT>IVE_IOEVENT_READ<DD>Call <VAR>proc</VAR> is <VAR>desc</VAR> is ready
        for reading.
      <DT>IVE_IOEVENT_WRITE<DD>Call <VAR>proc</VAR> is <VAR>desc</VAR> is ready
        for writing.
      <DT>IVE_IOEVENT_EXCPT<DD>Call <VAR>proc</VAR> is <VAR>desc</VAR> has
        exceptional (out-of-band) data.
    </DL>
  <DT><VAR>proc</VAR><DD>When <VAR>desc</VAR> satisfies the conditions given
    by <VAR>reason</VAR>, a thread which calls 
    <A HREF="IVEProcessEvent.html">IVEProcessEvent</A> or is waiting in an
    <A HREF="IVEEventLoop.html">event loop</A> can invoke <VAR>proc</VAR>.
    The documentation for <A HREF="IVEInputProc.html">IVEInputProc</A>
    describes the arguments passed to <VAR>proc</VAR>.  It also describes
    the side effects that occur when <VAR>proc</VAR> is called from a
    multi-threaded event context.
  <DT><VAR>arg</VAR><DD><VAR>arg</VAR> is not used internally but is passed
    along as an argument to <VAR>proc</VAR>.
  <DT><VAR>context</VAR><DD><VAR>context</VAR> is the context to which the
    event source will be added.
</DL>
<H2>Return value</H2>
<P>Returns a non-zero value if successful.  Returns zero if not.  When
the event source is no longer of interest, it can be removed by passing
the returned ID to <A HREF="IVERemoveInput.html">IVERemoveInput</A>.
<H2>Side effect</H2>
<P>If <VAR>desc</VAR> had already been added as an event source with a
<VAR>reason</VAR> that partly or completely overlaps the reason passed in
the current call, the previous registration will be disabled and will not
generate any callbacks.  The IVEInputId returned by the previous call is not
invalidated and can be safely passed to IVERemoveEvent without an effect
on the registration done by the current call.
<H2>Cross references</H2>
<P><A HREF="IVEEventLoop.html">IVEEventLoop</A>,
<A HREF="IVEProcessEvent.html">IVEProcessEvent</A>,
<A HREF="IVERemoveInput.html">IVERemoveInput</A>,
<A HREF="IVEDesc.html">IVEDesc</A>,
<A HREF="IVEEventContext.html">IVEEventContext</A>,
<A HREF="IVEInputId.html">IVEInputId</A>, and
<A HREF="IVEInputProc.html">IVEInputProc</A>


<HR>

<P>| <A HREF="Categories.html">categories</A>
   | <A HREF="Alphabetical.html">alphabetical</A>
   |

<HR>

<P>modified September 21, 2007
<ADDRESS>
  Eric Branlund (<A HREF="mailto:eric@msg.ucsf.edu">eric@msg.ucsf.edu</A>)
</ADDRESS>

</BODY>
</HTML>
