<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Reference: IVESetWatchProc</TITLE>
  <META NAME="Author" CONTENT="Eric Branlund">
  <META NAME="Description" CONTENT="Defines the behavior of IVESetWatchProc.">
  <LINK REV=MADE HREF="mailto:eric@msg.ucsf.edu">
</HEAD>

<BODY>

<H1>Reference: IVESetWatchProc</H1>
<H2>Overview</H2>
<P>The IVE event processing routines maintain a set of file descriptors
that they monitor to know when a callback should be invoked if a thread calls
<A HREF="IVEProcessEvent.html">IVEProcessEvent</A> or is in an
<A HREF="IVEEventLoop.html">event loop</A>.  If an application requires
its own event loop (for example if it is a program that uses an Xt-based
graphical user interface toolkit) and also uses the IVE event processing
calls with a single-threaded event context, it can integrate the two by
registering a callback with IVESetWatchProc so that it is informed of changes
to the set of file descriptors that the IVE library monitors and can update
its own sets appropriately.  In the application's event loop, if one of the
IVE descriptors is detected to be ready for I/O or that a signal occurred, it
should make a non-blocking call to IVEProcessEvent.

<P>It is not currently possible to integrate IVE event processing calls using
a multi-threaded event context with another event loop.  If you call
IVESetWatchProc with a multi-threaded event context, it will have no effect.

<H2>Prototype (C)</H2>
<P><CODE>#include "ive_eventloop.h"</CODE>
<BR><CODE>void IVESetWatchProc(IVEWatchProc, void* arg, IVEContext context);</CODE>
<H2>Prototype (Fortran)</H2>
<P>There is no Fortran interface.
<H2>Parameters</H2>
<DL>
  <DT><VAR>proc</VAR><DD><VAR>proc</VAR> is the routine that will be invoked
    when the IVE library changes the set of file descriptors it monitors
    If <VAR>proc</VAR> is zero (i.e. NULL), the default library behavior is
    restored and the library does not notify the application when the set
    of descriptors changes.  The documentation for
    <A HREF="IVEWatchProc.html">IVEWatchProc</A> describes the arguments
     passed to <VAR>proc</VAR>.
  <DT><VAR>arg</VAR><DD><VAR>arg</VAR> is passed to <VAR>proc</VAR> when it
    is called.
  <DT><VAR>context</VAR><DD><VAR>context</VAR> is the context to monitor
    for changes.
</DL>
<H2>Bugs</H2>
<P>Other than polling with IVEProcessEvent, there is no facility for an
application using another event loop to ensure that
<A HREF="IVEAddTimer.html">IVE timer events</A> are processed or that a
work procedure registered with <A HREF="IVEAddWorkProc.html">IVEAddWorkProc</A>
is called.

<H2>Cross references</H2>
<P><A HREF="IVEProcessEvent.html">IVEProcessEvent</A>,
<A HREF="IVEEventLoop.html">IVEEventLoop</A>,
<A HREF="IVEAddInput.html">IVEAddInput</A>,
<A HREF="IVEAddTimer.html">IVEAddTimer</A>,
<A HREF="IVEAddWorkProc.html">IVEAddWorkProc</A>,
<A HREF="IVERemoveInput.html">IVERemoveInput</A>,
<A HREF="IVEEventContext.html">IVEEventContext</A>, and
<A HREF="IVEWatchProc.html">IVEWatchProc</A>

<HR>

<P>| <A HREF="Categories.html">categories</A>
   | <A HREF="Alphabetical.html">alphabetical</A>
   |

<HR>

<P>modified September 20, 2007
<ADDRESS>
  Eric Branlund (<A HREF="mailto:eric@msg.ucsf.edu">eric@msg.ucsf.edu</A>)
</ADDRESS>

</BODY>
</HTML>
