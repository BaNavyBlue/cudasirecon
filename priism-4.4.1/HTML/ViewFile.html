<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>Priism Help: View File</TITLE>
  <META NAME="Description" CONTENT="On-line help for connecting a Priism image window to a file.">
  <META NAME="Keywords" CONTENT="Priism">
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>
<H1><A NAME="ViewFile">View File</A></H1>
<H2>Overview</H2>
<P>View File is used to look at an image file in an Image Window. The file
you specify will be associated with the window you choose and one section
will be loaded. The window will be set up so that whenever a section is
requested (by scrolling or using the window as an input source to an
application) it is then loaded into the window. Image data is cached or
buffered so that you can look at much more data than your computer's memory
can handle.

<H3>Topics</H3>
<P>
  Overview |
  <A HREF="#Window">Window</A> |
  <A HREF="#RGB">RGB</A> |
  <A HREF="#RestoreScale">Restore Scale</A> |
  <A HREF="#WaveScale">Wave Scale</A> |
  <A HREF="#CommandLine">Command line</A>

<H3>Related Priism Topics</H3>
<P>
  <A HREF="Priism.html">Priism</A> |
  <A HREF="CopyRegion.html">Copy Region</A> |
  <A HREF="Scale.html">Scale</A>
<HR>

<H2><A NAME="Window">Window</A></H2>
<P>Use this field to supply the window that should be created or
overwritten when the DoIt button is pushed.

<H3>Topics</H3>
<P>
  <A HREF="#ViewFile">Overview</A> |
  Window |
  <A HREF="#RGB">RGB</A> |
  <A HREF="#RestoreScale">Restore Scale</A> |
  <A HREF="#WaveScale">Wave Scale</A> |
  <A HREF="#CommandLine">Command line</A>
<HR>

<H2><A NAME="RGB">RGB</A></H2>
<P>When this toggle is off, the window that is opened will start out
in pseudocolor mode (one wavelength displayed at a time as a grayscale or
false color image).  When the toggle is on, the window that is opened will
start out in true color mode (up to three wavelengths may be displayed
simultaneously as different color components).

<H3>Topics</H3>
<P>
  <A HREF="#ViewFile">Overview</A> |
  <A HREF="#Window">Window</A> |
  RGB |
  <A HREF="#RestoreScale">Restore Scale</A> |
  <A HREF="#WaveScale">Wave Scale</A> |
  <A HREF="#CommandLine">Command line</A>
<HR>

<H2><A NAME="RestoreScale">Restore Scale</A></H2>
<P>If the file has been displayed before and the
<A HREF="Scale.html">Scale application</A> was used to save the scaling used,
then pressing this button will restore the scaling.

<H3>Topics</H3>
<P>
  <A HREF="#ViewFile">Overview</A> |
  <A HREF="#Window">Window</A> |
  <A HREF="#RGB">RGB</A> |
  Restore Scale |
  <A HREF="#WaveScale">Wave Scale</A> |
  <A HREF="#CommandLine">Command line</A>
<HR>

<H2><A NAME="WaveScale">Wave Scale</A></H2>
<P>For each wavelength, you may specify how the data is to be scaled in the
window.  For details about how how the scaling is done and the meaning of the
four scaling parameters, see the <A HREF="Scale.html#Scale">"Scaling Values"
topic</A> in the documentation for the
<A HREF="Scale.html">image window's Scale application</A>.  ViewFile will
reset the scaling parameters to the default values whenever you select a new
file.  For each wavelength, the default values are the minimum intensity
recorded for that wavelength in the file's header, the maximum intensity
recorded for that wavelength in the file's header, a scaling exponent of one,
and a flag value of zero.

<H3>Topics</H3>
<P>
  <A HREF="#ViewFile">Overview</A> |
  <A HREF="#Window">Window</A> |
  <A HREF="#RGB">RGB</A> |
  <A HREF="#RestoreScale">Restore Scale</A> |
  Wave Scale |
  <A HREF="#CommandLine">Command line</A>
<HR>

<H2><A NAME="CommandLine">Command Line</A></H2>
<P>When ViewFile is run with one or more command-line arguments, it will
perform its operations without intervention and without displaying the ViewFile
graphical user interface.  The syntax for invoking ViewFile to display the
file named <VAR>filename</VAR> in a window is:

<PRE>
    ViewFile <VAR>filename</VAR> [<VAR>window</VAR>] [<VAR>options</VAR>]
</PRE>

<P>where the parts listed in brackets are optional.  <VAR>window</VAR> is
the window number to use; if you omit the window number, the first available
window number (or window number one if all windows are in use) will be used.
<VAR>options</VAR> can contain any of the following:

<DL>
  <DT><CODE>-restore_scale</CODE>
  <DD>If the this option is present, ViewFile will look up the scaling
    values for the input in the recently saved parameters from the image
    window's <A HREF="Scale.html">scale function</A>.  If scaling values
    for the input are found, then those are used and any -scl options
    (see below) are ignored.

  <DT><CODE>-rgb</CODE>
  <DD>If this option is present, the data will be displayed as up to
    three wavelengths superimposed as different color components of
    the same image; otherwise, the data will be displayed as single
    wavelength images in pseudocolor.

  <DT><CODE>-scl1=</CODE><VAR>bound1</VAR>[<CODE>:</CODE><VAR>bound2</VAR>[<CODE>:</CODE><VAR>exp</VAR>[<CODE>:</CODE><VAR>flag</VAR>]]]
  <DD>Sets the scaling parameters for the the first wavelength.  Takes one to
    four parameters; parameters not specified take on their default values (see
    the <A HREF="#WaveScale">Wave Scale topic</A> for what the default values
    are).  The first two parameters are the intensity bounds for scaling, the
    third is the exponent, and the fourth sets what happens to data values
    outside of the intensity bounds.  The documentation for the image window's
    <A HREF="Scale.html">Scale function</A> describes the parameters in
    more detail.  The scaling parameters set by this option may be overrided
    when you use <CODE>-restore_scale</CODE>.  There are similar options
    (<CODE>-scl2</CODE>, <CODE>-scl3</CODE>, <CODE>-scl4</CODE>, and
    <CODE>-scl5</CODE>) to set the scaling for other wavelengths.
</DL>

<P>The return status of the command is zero if the operation failed and the
number of the window used if the operation succeeded.

<P>The example below uses the first available window to display fish.dat in
true color with the previously saved scaling values.

<PRE>
    ViewFile fish.dat -rgb -restore_scale
</PRE>

<P>The example below display ctf.dat in window 3 and a scaling function that
runs from 0 to 1 with an exponent of 0.3.

<PRE>
    ViewFile ctf.dat 3 -scl1=0:1:0.3
</PRE>

<H3>Topics</H3>
<P>
  <A HREF="#ViewFile">Overview</A> |
  <A HREF="#Window">Window</A> |
  <A HREF="#RGB">RGB</A> |
  <A HREF="#RestoreScale">Restore Scale</A> |
  <A HREF="#WaveScale">Wave Scale</A> |
  Command line
<HR>

</BODY>
</HTML>
