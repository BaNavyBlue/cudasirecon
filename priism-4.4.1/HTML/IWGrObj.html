<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <TITLE>IW Object Library Reference Guide</TITLE>
  <LINK REV=MADE HREF="mailto:ive@msg.ucsf.edu">
</HEAD>
<BODY>

<H1>IW Object Library Reference Guide: IVE 4</H1>

<H2><A NAME="Contents">Table of Contents</A></H2>
<OL>
  <LI><A HREF="#Introduction">Introduction</A>
  <LI><A HREF="#CompilingLinking">Compiling and Linking</A>
  <LI><A HREF="#ReleaseNotes">Release Notes</A>
  <LI><A HREF="#FunctionsByCategory">List of Functions by Category</A>
  <LI><A HREF="#FunctionsByName">List of Functions by Name</A>
</OL>
<HR>

<H2><A NAME="Introduction">Introduction</A></H2>
<P>At this point, the IW object library in IVE 4 is intended to make it
possible to port the small number of applications from IVE 3.3
(<A HREF="Clouds.html">Clouds</A>, <A HREF="Pick.html">Pick Points</A>,
and <A HREF="VolumeBuilder.html">Volume Builder</A> that made use of the
object library.  It is not clear if the object library is a viable platform
for building new applications.  I've quoted the introduction from
IVE 3.3 object library's documentation below to give the originators'
intent (circa July 1997) for the library.

<BLOCKQUOTE>
     This project is driven by the need to provide a wide
range of structure-based quantitative analysis applications
to meet the demand from several research projects in our lab.
All these applications are centered on a well defined geometric
model which represents the study structure.  The entire task
can be divided into two stages.  The first stage focuses on
creating the model.  Depending on the quality of the data
and the complexity of the model, modeling can be done either
automatically or manually in Priism.  Often models obtained by
automated methods contain errors which need to be edited out
manually.  In the second stage, models are used as the
templates for various types of data measurements such as
volume, integrated intensity, etc.  Toward this end, Priism
provides functions like Straight, VolumeBuilder, FindPoint,
etc.  Since structure models have become an important element
in our data analysis process, it is necessary that IVE platform
defines a systemwide methods for both storing and retrieving
model information in the programs.  This not only greatly
reduces programming task at the application level also
ensures model format compatibility among IVE applications.
</BLOCKQUOTE>

<BLOCKQUOTE>
     We start the project by introducing the concept of object
to IWL.  Here, object means a subregion of a data space defined
by the header information in a data file or IWL/Window.
&quot;Object&quot; can be specified by one of the following
three formats:  simple geometric primitives such as cube, circle,
sphere, etc; 2D contour which is made out of data points along
the object border; the complete list of data points in the
object.  For the first two formats, object coordinates can be
in either real space or grid space (data space).  The 3rd format
only supports coordinates in grid space.   Along with the
geometric information, each object also has its own set of
display attributes which dictates its presentation as overlay
graphics in a window.  Object is solid by default unless its
shell thickness is specified.  Objects in one of the above
formats are called Simple Objects and they can be grouped
together to create composite Objects for more complicated
model structures.
</BLOCKQUOTE>

<BLOCKQUOTE>
     The first step in using the IWL/Object functions is to
create a object list which link to a exiting data stream.
Once program establishes a proper data stream by calling
IMOpen and IMRdHdr or IMCrHdr, it can link an object list
to the data stream with IWOpenObj or IWInitObj functions.
IWInitObj is used for making a new object list, it will copy
data space information from the data stream header which it
attaches to.  IWOpenObj takes istream and a disk object
filename as input arguments.  It will read the entire object
information into memory and have it linked to the data stream
specified in the first argument.  If a Monitor detects that
there is a object list attached to a data stream, it will
automatically display object related graphics.  This
eliminates the burden on the application level to maintain
a complete list object related graphic IDs.
</BLOCKQUOTE>

<BLOCKQUOTE>
If IWL/SHM is available, object information will be kept
in SHM so that multiple data streams can link to the same
object list.
</BLOCKQUOTE>

<P>
  |
  <A HREF="#Contents">Table of Contents</A> |
  Introduction |
  <A HREF="#CompilingLinking">Compiling and Linking</A> |
  <A HREF="#ReleaseNotes">Release Notes</A> |
  <A HREF="#FunctionsByCategory">List of Functions by Category</A> |
  <A HREF="#FunctionsByName">List of Functions by Name</A> |
<HR>

<H2><A NAME="CompilingLinking">Compiling and Linking</A></H2>
<P>Programs written in C/C++ which use the IW object library functions
should include IWGrCC.h to provide prototypes and define types and
macros used with the object library functions.  When linking those programs,
link against libIWObj.so (libIWObj.dylib on Mac OS X) or libIWObj.a.

<H3>Platform Specifics</H3>

<H4><A NAME="CompilingLinking_x86Linux">x86 Linux</A></H4>
<P>To use the x86 Linux library, you will need an x86 Linux system that
supports compiling ELF executables and has at least glibc2.1 (if you use
the archive libraries, you will have to have a version of glibc that will
support archive libraries generated for glibc2.1).  To use the library and
header, the X libraries and headers must be installed.

<P>The header file is located in the Linux/x86/INCLUDE directory and the
library in the Linux/x86/LIB directory of the Priism distribution.

<P>If you link against libIWObj.so, it is necessary to instruct the
linker to search Linux/x86/LIB for libraries that libIWObj.so uses.  If you
invoke the linker directly, this can be done by adding

<PRE>
     -rpath-link <VAR>install_dir</VAR>/Linux/x86/LIB
</PRE>

<P>to the linker options (replace <VAR>install_dir</VAR> with the path to
the Priism distribution).  If the compiler is used to invoke the linker, then
you will need to determine how to instruct the compiler to pass the above
option to the linker; for most compilers it can be done with

<PRE>
     -Wl,-rpath-link,<VAR>install_dir</VAR>/Linux/x86/LIB
</PRE>

<P>libIWObj.so or its indirect dependencies also depend on the X and OpenGL
libraries so if the X and OpenGL library directories are not in the directory
search path it is also necessary to supply a -rpath-link option for the X
and OpenGL library directories.

<P>If you link against the archive library (libIWObj.a), you should link
with the egcs-2.91 g++ compiler (the library contains C++ code and linking
with the C++ compiler ensures that the C++ constructs are properly
initialized).  You also need to link against libIWL and libive which are
available in shared or archive versions in the same directory as libIWGrObj.a.
The other options you may need to specify are

<PRE>
    -lX11 -ldl -lm -lGL
</PRE>

<P>(this assumes that the X and OpenGL libraries are in the library directory
search path; if not it will be necessary to add them).

<H4><A NAME="CompilingLinking_MacOSX">Mac OS X</A></H4>
<P>To use the IW object library on Mac OS X, it is necessary to have the X
libraries and an OpenGL library compatible with those libraries installed.

<P>The header file for 32-bit applications is located in the
Darwin/INCLUDE directory of the Priism distribution.  The header file for
64-bit applications is located in the Darwin64/INCLUDE directory of the
Priism distribution.

<P>The 32-bit library is located in the Darwin/LIB directory of the Priism
distribution and the 64-bit library is located in the Darwin64/LIB directory.
If you link against libIWObj.dylib, it is necessary to link against libIWL and
libive which are in the same directory as libIWObj.dylib, i.e. add
<PRE>
    -lIWL -live
</PRE>

<P>to the link options.  If you use libIWObj.a on a PowerPC system, you should
link with the gcc 3.1 version of the C++ compiler to pull in the proper C++
libraries.  If you use libIWObj.a on an Intel system, you should link with
the gcc 4.0 version of the C++ compiler.  On any Mac OS X system, you will
have to link against the Priism libraries, libIWL and libive, the X11 library,
and an OpenGL library compatible with X11 when you use libIWObj.a. For a
typical configuration (X11 in /usr/X11R6), you would add

<PRE>
    -L<VAR>install_dir</VAR>/Darwin/LIB -lIWL -live -L/usr/X11R6/lib -lX11 -lGL
</PRE>

<P>to your link options for 32-bit applications and

<PRE>
    -L<VAR>install_dir</VAR>/Darwin64/LIB -lIWL -live -L/usr/X11R6/lib -lX11 -lGL
</PRE>

<P>to your link options for 64-bit applications.  <VAR>install_dir</VAR> is
the full path to the directory where Priism is installed.

<P>
  |
  <A HREF="#Contents">Table of Contents</A> |
  <A HREF="#Introduction">Introduction</A> |
  Compiling and Linking |
  <A HREF="#ReleaseNotes">Release Notes</A> |
  <A HREF="#FunctionsByCategory">List of Functions by Category</A> |
  <A HREF="#FunctionsByName">List of Functions by Name</A> |
<HR>

<H2><A NAME="ReleaseNotes">Release Notes</A></H2>
<P>The object library first became available in IVE 4.2.2.  The known problems
with the object library are:
<UL>
  <LI>Object files generated by <A HREF="#IWSaveObjList">IWSaveObjList</A>
    in IVE 4 are not compatible with the
    <A HREF="#IWLoadObjList">IWLoadObjList</A> in IVE 3.3 (composite objects
    are handled differently).  Object files generated in IVE 3.3 do work in
    IVE 4.
  <LI>Objects created by <A HREF="#IWAreaObj">IWAreaObj</A>,
    <A HREF="#IWCircleObj">IWCircleObj</A>,
    <A HREF="#IWPtsObj">IWPtsObj</A>, or
    <A HREF="#IWSphereObj">IWSphereObj</A> can not be tested with
    <A HREF="#IWIsObjSelected">IWIsObjSelected</A> or returned by
    <A HREF="#IWRtObjSelected">IWRtObjSelected</A>.  This limitation is also
    present in the IVE 3.3 version.
  <LI>The calculations within <A HREF="#IWRtObjInt">IWRtObjInt</A> and
    <A HREF="#IWRtObjCM">IWRtObjCM</A> implicitly assume that the object is
    defined in data coordinates.  This limitation is also present in the IVE
    3.3 version.
  <LI>For objects created by <A HREF="#IWCircleObj">IWCircleObj</A> or
    <A HREF="#IWSphereObj">IWSphereObj</A> which are defined in a real space
    coordinate system with anisotropic sampling, the calculations within
    <A HREF="#IWRtObjCM">IWRtObjCM</A>, <A HREF="#IWRtObjGC">IWRtObjGC</A>,
    <A HREF="#IWRtObjInt">IWRtObjInt</A>, and
    <A HREF="#IWRtObjRange">IWRtObjRange</A>, do not account for the anisotropy
    of the sampling.
  <LI>The calculations for <A HREF="#IWRtObjCM">IWRtObjCM</A>,
    <A HREF="#IWRtObjGC">IWRtObjGC</A>, <A HREF="#IWRtObjInt">IWRtObjInt</A>,
    and <A HREF="#IWRtObjVol">IWRtObjVol</A> do not try to compensate for
    overlapping children.
  <LI>Composite objects with children in both real and data coordinate systems
    assume that all the children are in the same coordinate system for range
    calculations performed in <A HREF="#IWRtObjs">IWRtObjs</A>.
</UL>

<P>The following incompatibilities are known to have been introduced while
porting the object library from IVE 3.3 to IVE 4.

<UL>
  <LI>Removed the IWCubeObj and IWHarmonicObj functions.
  <LI>Explicit use of the type long have been removed from the interface
    for applications.  Where the IVE 3.3 version used long for an object list
    ID, use IWGrHeaderID instead.  Where the IVE 3.3 version used long for an
    object ID, use IWGrObjID instead.  Where the IVE 3.3 version used long
    for an error status return, boolean flag, coordinate dimension, or
    coordinate offset, use int instead.
  <LI>Implemented  <A HREF="#IWRtObjCM">IWRtObjCM</A>,
    <A HREF="#IWRtObjGC">IWRtObjGC</A>, <A HREF="#IWRtObjInt">IWRtObjInt</A>,
    and <A HREF="#IWRtObjVol">IWRtObjVol</A> for objects created by
    <A HREF="#IWCircleObj">IWCircleObj</A> and
    <A HREF="#IWSphereObj">IWSphereObj</A>
  <LI>Implemented <A HREF="#IWRtObjVol">IWRtObjVol</A> differently for
    objects created by <A HREF="#IWBoxObj">IWBoxObj</A>.  The IVE 3.3 version
    computed the product of the difference between the maximum and minimum
    range values (in the object's coordinates) in each dimension.  The IVE 4
    version counts the points with integral coordinates within the bounds of
    the object.
  <LI>The functions <A HREF="#IWIsObjSelected">IWIsObjSelected</A> and
    <A HREF="#IWRtObjs">IWRtObjs</A> impose an extra condition on 2D objects
    in IVE 3.3 (the integer conversion of the result of dividing the z
    coordinate of the point being tested by two times the pixel spacing must
    be equal to the integer conversion of the result of dividing the z
    coordinate of the object by two times the pixel spacing) that is not
    imposed in the IVE4 version.
  <LI>The object library is no longer included in libIWL.  Instead, link with
    libIWObj, libIWL, and, if necessary, their dependencies.
  <LI>The object library no longer depends on libGLU.
</UL>

<P>
  |
  <A HREF="#Contents">Table of Contents</A> |
  <A HREF="#Introduction">Introduction</A> |
  <A HREF="#CompilingLinking">Compiling and Linking</A> |
  Release Notes |
  <A HREF="#FunctionsByCategory">List of Functions by Category</A> |
  <A HREF="#FunctionsByName">List of Functions by Name</A> |
<HR>

<H2><A NAME="FunctionsByCategory">List of Functions by Category</A></H2>

<UL>
  <LI>Object list manipulation
    <DL>
      <DT><A HREF="#IWAttachObjToWin">IWAttachObjToWin</A><DD>Attaches an
        object list to an image window.
      <DT><A HREF="#IWCloseObjList">IWCloseObjList</A><DD>Closes the connection
        to an object list and deletes the object list if no other connections
        are open to the list.
      <DT><A HREF="#IWDetachObjFromWin">IWDetachObjFromWin</A><DD>Detaches an
        object list from an image window.
      <DT><A HREF="#IWInitObjHdr">IWInitObjHdr</A><DD>Establishes a coordinate
        system and bounds for an object list.
      <DT><A HREF="#IWInitObjList">IWInitObjList</A><DD>Looks up an object
        list by name.  If the a list with that name already exists, returns a
        reference to that list; otherwise, returns a reference to a new object
        list.
      <DT><A HREF="#IWLoadObjList">IWLoadObjList</A><DD>Loads into memory a
        list of objects previously saved to a file.
      <DT><A HREF="#IWRtNumObjLists">IWRtNumObjLists</A><DD>Returns the
        number of object lists currently in memory.
      <DT><A HREF="#IWRtObjListNames">IWRtObjListNames</A><DD>Constructs
        a list of the names of all the object lists currently in memory.
      <DT><A HREF="#IWRtObjHdr">IWRtObjHdr</A><DD>Retrieves the coordinate
        system and bounds associated with an object list.
      <DT><A HREF="#IWSaveObjList">IWSaveObjList</A><DD>Saves an object list to
        a file.
    </DL>
  <LI>Making new objects
    <DL>
      <DT><A HREF="#IWAreaObj">IWAreaObj</A><DD>Defines an object in a single
        z plane by explicitly providing all the points in the object.
      <DT><A HREF="#IWBoxObj">IWBoxObj</A><DD>Creates an object representing a
        rectangle parallel to the xy plane.
      <DT><A HREF="#IWCircleObj">IWCircleObj</A><DD>Creates an object
        representing a circle parallel to the xy plane.
      <DT><A HREF="#IWGroupObj">IWGroupObj</A><DD>Creates a composite object.
      <DT><A HREF="#IWPolyObj">IWPolyObj</A><DD>Creates an object representing
        a polygon parallel to the xy plane.
      <DT><A HREF="#IWPtsObj">IWPtsObj</A><DD>Defines an object by explicitly
        providing all the the points in the object.
      <DT><A HREF="#IWSphereObj">IWSphereObj</A><DD>Creates an object
        representing a sphere.
    </DL>
  <LI>Object manipulation
    <DL>
      <DT><A HREF="#IWAddMemObj">IWAddMemObj</A><DD>Adds a member to a
        composite object.
      <DT><A HREF="#IWAlObjDis">IWAlObjDis</A><DD>Alters whether or not an
        object is displayed.
      <DT><A HREF="#IWAlObjDisAttr">IWAlObjDisAttr</A><DD>Alters the display
        attributes of an object.
      <DT><A HREF="#IWAlObjName">IWAlObjName</A><DD>Modifies the name
        associated with an object.
      <DT><A HREF="#IWAlObjPt">IWAlObjPt</A><DD>Changes the position of one of
        the points of an object.
      <DT><A HREF="#IWDelMemObj">IWDelMemObj</A><DD>Removes a member from a
        composite object.
      <DT><A HREF="#IWDelObj">IWDelObj</A><DD>Deletes an object.
    </DL>
  <LI>Retrieving object information
    <DL>
      <DT><A HREF="#IWIsObjSelected">IWIsObjSelected</A><DD>Returns whether or
        not a give point falls within the boundaries of an object.
      <DT><A HREF="#IWRtMemObjs">IWRtMemObjs</A><DD>Constructs a list of
        references to the member objects of an object.
      <DT><A HREF="#IWRtObjLnCount">IWRtObjLnCount</A><DD>Returns the number of
        composite objects to which an object belongs.
      <DT><A HREF="#IWRtObjName">IWRtObjName</A><DD>Retrieves the
        name associated with an object.
      <DT><A HREF="#IWRtObjPts">IWRtObjPts</A><DD>Retrieves the coordinates of
        the control points for an object.
      <DT><A HREF="#IWRtObjPtSelected">IWRtObjPtSelected</A><DD>Returns a
        reference to the first non-composite object that has a control point
        within a given distance of a specified point.
      <DT><A HREF="#IWRtObjs">IWRtObjs</A><DD>Constructs a list of references
        to objects which match criteria based on object type and bounding box.
      <DT><A HREF="#IWRtObjSelected">IWRtObjSelected</A><DD>Returns a reference
        to the first non-composite object whose boundaries contain a given
        point.
      <DT><A HREF="#IWRtObjType">IWRtObjType</A><DD>Returns an object's type
        (box, circle, etc.).
    </DL>
  <LI>Object utility functions
    <DL>
      <DT><A HREF="#IWRtObjCM">IWRtObjCM</A>Computes the weighted mean position
        of a set of points within an object where the weight of each point is
        the intensity at that point.
      <DT><A HREF="#IWRtObjGC">IWRtObjGC</A><DD>Computes the unweighted mean
        of a set of points within an object.
      <DT><A HREF="#IWRtObjInt">IWRtObjInt</A>Computes the sum of intensities
        at a set of points within an object.
      <DT><A HREF="#IWRtObjRange">IWRtObjRange</A><DD>Computes the bounding
        box for an object.
      <DT><A HREF="#IWRtObjVol">IWRtObjVol</A>Computes the number of points
        within an object.
    </DL>
</UL>

<P>
  |
  <A HREF="#Contents">Table of Contents</A> |
  <A HREF="#Introduction">Introduction</A> |
  <A HREF="#CompilingLinking">Compiling and Linking</A> |
  <A HREF="#ReleaseNotes">Release Notes</A> |
  List of Functions by Category |
  <A HREF="#FunctionsByName">List of Functions by Name</A> |
<HR>

<H2><A NAME="FunctionsByName">List of Functions by Name</A></H2>

<DL>
  <DT><A HREF="#IWAddMemObj">IWAddMemObj</A><DD>Adds a member to a
    composite object.
  <DT><A HREF="#IWAlObjDis">IWAlObjDis</A><DD>Alters whether or not an
    object is displayed.
  <DT><A HREF="#IWAlObjDisAttr">IWAlObjDisAttr</A><DD>Alters the display
    attributes of an object.
  <DT><A HREF="#IWAlObjName">IWAlObjName</A><DD>Modifies the name
    associated with an object.
  <DT><A HREF="#IWAlObjPt">IWAlObjPt</A><DD>Changes the position of one of the
    points of an object.
  <DT><A HREF="#IWAreaObj">IWAreaObj</A><DD>Defines an object in a single
    z plane by explicitly providing all the points in the object.
  <DT><A HREF="#IWAttachObjToWin">IWAttachObjToWin</A><DD>Attaches an object
    list to an image window.
  <DT><A HREF="#IWBoxObj">IWBoxObj</A><DD>Creates an object representing a
    rectangle parallel to the xy plane.
  <DT><A HREF="#IWCircleObj">IWCircleObj</A><DD>Creates an object
    representing a circle parallel to the xy plane.
  <DT><A HREF="#IWCloseObjList">IWCloseObjList</A><DD>Closes the connection
    to an object list and deletes the object list if no other connections
    are open to the list.
  <DT><A HREF="#IWDelMemObj">IWDelMemObj</A><DD>Removes a member from a
    composite object.
  <DT><A HREF="#IWDelObj">IWDelObj</A><DD>Deletes an object.
  <DT><A HREF="#IWDetachObjFromWin">IWDetachObjFromWin</A><DD>Detaches an
    object list from an image window.
  <DT><A HREF="#IWGroupObj">IWGroupObj</A><DD>Creates a composite object.
  <DT><A HREF="#IWInitObjHdr">IWInitObjHdr</A><DD>Establishes a coordinate
    system and bounds for an object list.
  <DT><A HREF="#IWInitObjList">IWInitObjList</A><DD>Looks up an object
    list by name.  If the a list with that name already exists, returns a
    reference to that list; otherwise, returns a reference to a new object
    list.
  <DT><A HREF="#IWIsObjSelected">IWIsObjSelected</A><DD>Returns whether or
    not a give point falls within the boundaries of an object.
  <DT><A HREF="#IWLoadObjList">IWLoadObjList</A><DD>Loads into memory a
    list of objects previously saved to a file.
  <DT><A HREF="#IWPolyObj">IWPolyObj</A><DD>Creates an object representing
    a polygon parallel to the xy plane.
  <DT><A HREF="#IWPtsObj">IWPtsObj</A><DD>Defines an object by explicitly
    providing all the the points in the object.
  <DT><A HREF="#IWRtMemObjs">IWRtMemObjs</A><DD>Constructs a list of
    references to the member objects of an object.
  <DT><A HREF="#IWRtNumObjLists">IWRtNumObjLists</A><DD>Returns the
    number of object lists currently in memory.
  <DT><A HREF="#IWRtObjCM">IWRtObjCM</A>Computes the weighted mean position
    of a set of points within an object where the weight of each point is
    the intensity at that point.
  <DT><A HREF="#IWRtObjGC">IWRtObjGC</A><DD>Computes the unweighted mean
    of a set of points within an object.
  <DT><A HREF="#IWRtObjHdr">IWRtObjHdr</A><DD>Retrieves the coordinate system
    and bounds associated with an object list.
  <DT><A HREF="#IWRtObjInt">IWRtObjInt</A>Computes the sum of intensities
    at a set of points within an object.
  <DT><A HREF="#IWRtObjListNames">IWRtObjListNames</A><DD>Constructs
    a list of the names of all the object lists currently in memory.
  <DT><A HREF="#IWRtObjLnCount">IWRtObjLnCount</A><DD>Returns the number of
    composite objects to which an object belongs.
  <DT><A HREF="#IWRtObjName">IWRtObjName</A><DD>Retrieves the
    name associated with an object.
  <DT><A HREF="#IWRtObjPts">IWRtObjPts</A><DD>Retrieves the coordinates of
    the control points for an object.
  <DT><A HREF="#IWRtObjPtSelected">IWRtObjPtSelected</A><DD>Returns a reference
    to the first non-composite object that has a control point within a given
    distance of a specified point.
  <DT><A HREF="#IWRtObjSelected">IWRtObjSelected</A><DD>Returns a reference to
    the first non-composite object whose boundaries contain a given point.
  <DT><A HREF="#IWRtObjRange">IWRtObjRange</A><DD>Computes the bounding
    box for an object.
  <DT><A HREF="#IWRtObjs">IWRtObjs</A><DD>Constructs a list of references
    to objects which match criteria based on object type and bounding box.
  <DT><A HREF="#IWRtObjType">IWRtObjType</A><DD>Returns an object's type
    (box, circle, etc.).
  <DT><A HREF="#IWRtObjVol">IWRtObjVol</A>Computes the number of points
    within an object.
  <DT><A HREF="#IWSaveObjList">IWSaveObjList</A><DD>Saves an object list to
    a file.
  <DT><A HREF="#IWSphereObj">IWSphereObj</A><DD>Creates an object representing
    a sphere.  
</DL>

<P>
  |
  <A HREF="#Contents">Table of Contents</A> |
  <A HREF="#Introduction">Introduction</A> |
  <A HREF="#CompilingLinking">Compiling and Linking</A> |
  <A HREF="#ReleaseNotes">Release Notes</A> |
  <A HREF="#FunctionsByCategory">List of Functions by Category</A> |
  List of Functions by Name |
<HR>

<H3><A NAME="IWAddMemObj">IWAddMemObj</A></H3>
<P>Adds a member to a composite object.

<H4>Prototype (C)</H4>
<P>include "IWGrCC.h"<BR>
int IWAddMemObj(IWGrHeaderID <U>headerID</U> IWGrObjID <U>com_objID</U>,
IWGrObjID <U>mem_objID</U>);

<H4>Description</H4>
<P>Adds the object referred to by <U>mem_objID</U> to the composite object
referred to by <U>com_objID</U>.  Unexpected results can occur if
<U>mem_objID</U> refers to the same object as <U>com_objID</U> or refers to
a composite object that contains (directly or indirectly) the object referred
to by <U>com_objID</U>.  Both objects must be in the object list referred to
by <U>headerID</U>.  Returns IW_ERROR if the object list referred to by
<U>headerID</U> is not valid, the objects referred to by <U>mem_objID</U> or
<U>com_objID</U> are not valid, or it was not possible to allocate resources to
resolve the references or update the list of members in the composite object;
otherwise, returns IW_SUCCESS.

<HR>

<H3><A NAME="IWAlObjDis">IWAlObjDis</A></H3>
<P>Alters whether or not an object is displayed.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWAlObjDis(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>iflag</U>);

<H4>Description</H4>
<P>If <U>iflag</U> is zero, the object referred to by <U>objID</U>, which is
part of the object list referred to by <U>headerID</U>, will not be displayed
in any image windows attached to the object list; otherwise, the object will
be displayed.  If the object is composite, applies the visibility setting to
all the object's members.  A new object is initially visible (will be drawn in
an image window attached to the object list when the image window is redrawn).
IWAlObjDis returns IW_ERROR if the object list referred to by <U>headerID</U>
is not valid or the object referred to by <U>objID</U> is not valid; otherwise,
returns IW_SUCCESS.

<HR>

<H3><A NAME="IWAlObjDisAttr">IWAlObjDisAttr</A></H3>
<P>Alters the display attributes of an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWAlObjDisAttr(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int color, int pattern, int thickness, int method);

<H4>Description</H4>
<P>Modifies the display attributes of the object referred to by <U>objID</U>
which is a member of the object list referred to by <U>headerID</U>.  If
the object is composite, applies the display attributes to all of the object's
members.  <U>color</U> specifies the index for the color used to display the
object.  <U>pattern</U> specifies the new type of fill pattern to use.
Currently, the value of <U>pattern</U> has no effect on the appearance of
objects.  <U>thickness</U> is the width of the lines, in screen pixels, used
when drawing the object.  <U>method</U> specifies the style of drawing to use
for the object; <U>method</U> may be one of the following constants defined in
IWGrCC.h:

<DL>
  <DT>IWOBJ_OUTLINE<DD>Draw only an outline or wireframe to represent the
    edges of the object.
  <DT>IWOBJ_SOLID<DD>The surfaces of the object are drawn as if solidly filled
    with the object's color.
</DL>

<P>IWAlObjDisAttr returns IW_ERROR if the object list referred to by
<U>headerID</U> is not valid or the object referred to by <U>objID</U> is not
valid; otherwise, returns IW_SUCCESS.  For objects that are not composite,
the initial color index is the value specified when the object was created,
the initial pattern value is one, the initial line thickness is one pixel,
and the initial drawing method is IWOBJ_OUTLINE.

<HR>

<H3><A NAME="IWAlObjName">IWAlObjName</A></H3>
<P>Modifies the name associated with an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWAlObjName(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
const char* <U>name</U>);

<H4>Description</H4>
<P>Changes the name associated with the object referred to by <U>objID</U> to
be the null-terminated string of characters pointed to by <U>name</U>.  The
object must be a member of the object list referred to by <U>headerID</U>.  If
<U>name</U> is a null pointer, the new name of the object will be the empty
string.  If <U>name</U> points to a string of characters with more than
MAX_OBJ_FILE_NAME_SIZE minus one characters before the first null character,
only the first MAX_OBJ_FILE_NAME_SIZE minus one characters are used for the
object's name.  Returns IW_ERROR if the object list referred to by
<U>headerID</U> is not valid or the object referred to by <U>objID</U> is
not valid; otherwise, returns IW_SUCCESS.

<HR>

<H3><A NAME="IWAlObjPt">IWAlObjPt</A></H3>
<P>Changes the position of one of the points of an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWAlObjPt(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>pt_num</U>, IW_POINT <U>pt</U>);

<H4>Description</H4>
<P><U>pt_num</U> is the zero-based index of the point which will be modified.
<U>pt</U> holds the new values for the coordinates of the point.  <U>objID</U>
refers to the object to modified; that object must be a member of the object
list referred to by <U>headerID</U>.  IWAlObjPt returns IW_ERROR if the object
list referred to by <U>headerID</U> is not valid or the object referred to by
<U>objID</U> is not valid; otherwise, returns IW_SUCCESS.

<P>A call to IWAlObjPt will have no effect it <U>pt_num</U> is less than zero
or is greater or equal to the number of control points in the object.  Objects
created by <A HREF="#IWCircleObj">IWCircleObj</A> and
<A HREF="#IWSphereObj">IWSphereObj</A> have one control point, the center.
Objects created by <A HREF="#IWBoxObj">IWBoxObj</A> have two control points,
the two ends of the diagonal specified when the object was created.  For
objects created by <A HREF="#IWAreaObj">IWAreaObj</A>,
<A HREF="#IWPolyObj">IWPolyObj</A>, and <A HREF="#IWPtsObj">IWPtsObj</A>,
the control points are the points specified when the object was created.
For composite objects, the control points are the control points of all the
member objects with the first member object's control points first in the
list, the second member object's control points second in the list, and so on.

<P>A call to IWAlObjPt does not force the modified object to be redrawn if
the object is displayed in an image window.

<HR>

<H3><A NAME="IWAreaObj">IWAreaObj</A></H3>
<P>Defines a new object in a single z plane by explicitly providing all the
points in the object.

<H4>Prototype (C)</H4>
<P>IWGrObjID IWAreaObj(IWGrHeaderID <U>headerID</U>,
const IW_POINT <U>list</U>[], int <U>npt</U>, int <U>iwave</U>,
int <U>itime</U>, int <U>space</U>, int <U>color</U>);

<H4>Description</H4>
<P>Creates an object consisting of the <U>npt</U> points specified in
<U>list</U> and adds that object to the object list referred to by
<U>headerID</U>.  The points should all have the same z coordinate values.
The points all lie in the same wavelength, whose zero-based index is given by
<U>iwave</U>, and time point, whose zero-based index is given by <U>itime</U>.
If <U>space</U> is IWOBJ_DATA_SP, the coordinates are assumed to be in pixel
units (i.e. grid space); if <U>space</U> is IWOBJ_REAL_SP, the coordinates are
assumed to be in "real space".  <U>color</U> specifies the color index to be
used when displaying the points.  Returns zero if the object list referred to
by <U>headerID</U> is not valid, the object list has not had a coordinate
system established, or it was not possible to allocate resources for the new
object; otherwise, returns a reference to the new object.

<HR>

<H3><A NAME="IWAttachObjToWin">IWAttachObjToWin</A></H3>
<P>Attaches an object list to an image window.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWAttachObjToWin(IWGrHeaderID <U>headerID</U>, int <U>istr</U>);

<H4>Description</H4>
<P>Attaches the object list referred to by <U>headerID</U> to the image
window connected to the IM library stream number <U>istr</U>.  Subsequent
redraws of the image window will include graphics representing the objects
in the list.  The object list remains connected to the image window until
an application detaches the object list from the image window with
<A HREF="#IWDetachObjFromWin">IWDetachObjFromWin</A> or the image window is
overwritten or deleted.  IWAttachObjToWin returns IW_SUCCESS if successful.
It returns IW_ERROR if one of the input arguments is invalid or there
insufficient resources to complete the operation.

<HR>

<H3><A NAME="IWBoxObj">IWBoxObj</A></H3>
<P>Creates an object representing a rectangle parallel to the xy plane.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWBoxObj(IWGrHeaderID <U>headerID</U>, const IW_POINT <U>box</U>[2],
int <U>iwave</U>, int <U>itime</U>, int <U>space</U>, int <U>color</U>);

<H4>Description</H4>
<P>Defines a rectangle by the two endpoints of one of its diagonals,
<U>box</U>[0] and <U>box[1]</U>.  Uses the z coordinate of <U>box</U>[0] as the
z coordinate for the rectangle and ignores the z coordinate of <U>box</U>[1].
The rectangle lies in the wavelength whose zero-based index is given by
<U>iwave</U> and the time point whose zero-based index is given by
<U>itime</U>.  If <U>space</U> is IWOBJ_DATA_SP, the coordinates are assumed
to be in pixel units (i.e. grid space); if <U>space</U> is IWOBJ_REAL_SP, the
coordinates are assumed to be in "real space".  <U>color</U> specifies the
color index to be used when displaying the rectangle.  Returns zero if the
object list referred to by <U>headerID</U> is not valid, the object list has
not had a coordinate system established, or it was not possible to allocate
resources for the new object; otherwise, returns a reference to the new object.

<HR>

<H3><A NAME="IWCircleObj">IWCircleObj</A></H3>
<P>Creates an object representing a circle parallel to the xy plane.

<H4>Prototype (C)</H4>
<P>include "IWGrCC.h"<BR>
IWGrObjID IWCircleObj(IWGrHeaderID <U>headerID</U>, IW_POINT <U>center</U>,
int <U>iwave</U>, int <U>itime</U>, float <U>radius</U>, int <U>space</U>,
int <U>color</U>);

<H4>Description</H4>
<P>Defines a circle by its center point, <U>center</U>, and a radius,
<U>radius</U>.  The circle lies in the wavelength whose zero-based index
is given by <U>iwave</U> and the time point whose zero-based index is given
by <U>itime</U>.  If <U>space</U> is IWOBJ_DATA_SP, the coordinates are assumed
to be in pixel units (i.e. grid space); if <U>space</U> is IWOBJ_REAL_SP, the
coordinates are assumed to be in "real space".  <U>color</U> specifies the
color index to be used when displaying the rectangle.  Returns zero if the
object list referred to by <U>headerID</U> is not valid, the object list has
not had a coordinate system established, or it was not possible to allocate
resources for the new object; otherwise, returns a reference to the new object.

<HR>

<H3><A NAME="IWCloseObjList">IWCloseObjList</A></H3>
<P>Closes the connection to an object list and deletes the object list if
no other connections are open to the list.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWCloseObjList(IWGrHeaderID <U>headerID</U>);

<H4>Description</H4>
<P>If <U>headerID</U> refers to an object list the program had previously
connected to with <A HREF="#IWInitObjList">IWInitObjList</A>, IWCloseObjList
closes the connection to the object list and returns IW_SUCCESS; otherwise,
IWCloseObjList returns IW_ERROR.  If IWCloseObjList determines that the object
list is not attached to any image windows and there are no other outstanding
connections (i.e. calls to <A HREF="#IWInitObjList">IWInitObjList</A> which do
not have a matching call to IWCloseObjList) to the list, IWCloseObjList
deletes the object list and its contents.

<HR>

<H3><A NAME="IWDelMemObj">IWDelMemObj</A></H3>
<P>Removes a member from a composite object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWDelMemObj(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>com_objID</U>,
IWGrObjID <U>mem_objID</U>);

<H4>Description</H4>
<P>Removes the member object referred to by <U>mem_objID</U> from the
composite object referred to by <U>com_objID</U>.  Both objects must be
in the object list referred to by <U>headerID</U>.  Returns IW_ERROR if
the object list referred to by <U>headerID</U> is not valid, the objects
referred to by <U>mem_objID</U> or <U>com_objID</U> are not valid, the
object referred to by <U>mem_objID</U> was not part of the composite object
referred to by <U>com_objID</U>, or it was not possible to allocate resources
to resolve the references; otherwise, returns IW_SUCCESS.

<HR>

<H3><A NAME="IWDelObj">IWDelObj</A></H3>
<P>Deletes an object.

<H4>Prototype (C)</H4>
<P>include "IWGrCC.h"<BR>
int IWDelObj(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>, int <U>delete_child</U>);

<H4>Description</H4>
<P>Deletes the object referred to by <U>objID</U> from the object list
referred to by <U>headerID</U>.  If the object is a composite object and
<U>delete_child</U> is not zero, deletes any components of the composite
object as well.  Returns IW_ERROR if <U>headerID</U> does not refer to
a valid object list or if <U>objID</U> does not refer to a valid object;
otherwise, returns IW_SUCCESS.  Deleting a member of a composite object
before deleting the composite object itself creates a dangling reference
in this implementation and can cause unexpected results when operating
on the composite object.

<HR>

<H3><A NAME="IWDetachObjFromWin">IWDetachObjFromWin</A></H3>
<P>Detaches an object list from an image window.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWDetachObjFromWin(IWGrHeaderID <U>headerID</U>, int <U>istr</U>);

<H4>Description</H4>
<P>Detaches the object list referred to by <U>headerID</U> from the image
window connected to the IM library stream number <U>istr</U>.
IWDetachObjFromWin returns IW_SUCCESS if successful.  It returns IW_ERROR
if one of the arguments is invalid or the object list referred to by
<U>headerID</U> is not attached to the image window connected to <U>istr</U>.

<HR>

<H3><A NAME="IWGroupObj">IWGroupObj</A></H3>
<P>Creates a composite object, an object that groups together
zero or more other objects from the same object list.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
<P>IWGrObjID IWGroupObj(IWGrHeaderID <U>headerID</U>,
const IWGrObjId <U>obj_list</U>[], int <U>nobj</U>);

<H4>Description</H4>
<P>Creates a composite object in the object list referred to by
<U>headerID</U>.  Initially the composite object will group together
the objects referred to by the first <U>nobj</U> elements of <U>obj_list</U>.
Returns zero if the object list referred to by <U>headerID</U> is not valid,
the object list has not had a coordinate system established, or it was not
possible to assemble the references to the component objects; otherwise,
returns a reference to the new composite object.

<P>If <U>nobj</U> is not positive, the coordinate system type (either "data
space" or "real space") of the new composite is "data space"; otherwise, the
composite object inherits the coordinate system type of the first element in
<U>obj_list</U>.  After creating a composite object, you can add new members
with <A HREF="#IWAddMemObj">IWAddMemObj</A> and can delete members with
<A HREF="#IWDelMemObj">IWDelMemObj</A>.  Additions or deletions do not change
the coordinate system type set when you created the composite object.

<HR>

<H3><A NAME="IWInitObjHdr">IWInitObjHdr</A></H3>
<P>Establishes a coordinate system and bounds for an object list.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWInitObjHdr(IWGrHeaderID <U>headerID</U>, const int <U>nxyzwt</U>[],
const float <U>delt</U>[], const float <U>tilt</U>[],
const float <U>orig</U>[], const int <U>xyzst</U>[]);

<H4>Description</H4>
<P>IWInitObjHdr establishes a coordinate system and bounds for the object list
referred to by <U>headerID</U>; it has the side effect of deleting any objects
associated with the object list.  Establishing a coordinate system and bounds
for an object list is a prerequisite for adding objects to the list and
determines the conversion between the two coordinate system conventions, "data
space" and "real space".  IWInitObjHdr returns IW_SUCCESS if the the operation
was successful or IW_ERROR if the operation was not successful.

<P><U>nxyzwt</U> holds the number of sample points along each dimension.
The first element is for the x axis, the second is for the y axis, the third
is for for the z axis, the fourth is for the wavelength axis, and the fifth is
for the time axis.  <U>delt</U> holds the distance between sample points for
the x, y, and z axes (in that order).  <U>tilt</U> holds the three rotation
angles, in degrees, describing the orientation of the volume.  <U>orig</U>
holds the x, y, and z coordinates (in that order) for the origin; the units on
the coordinates are assumed to be the same as the units for the distances
between sample points.  <U>xyzst</U> holds the x, y, and z indices (in that
order) corresponding to the origin.

<P>The conversion from "data space" (where coordinates are in the units
of pixels) to "real space" (where the coordinates use the same units as used
for <U>delt</U>) will be:

<PRE>
  [ x' ]               [ x * <U>delt</U>[0] + <U>orig</U>[1] ]
  [ y' ] = Z * Y * X * [ y * <U>delt</U>[1] + <U>orig</U>[1] ]
  [ z' ]               [ z * <U>delt</U>[2] + <U>orig</U>[2] ]
</PRE>

<P>where Z, Y, and X are

<PRE>
      [  cos(<U>tilt</U>[2])  sin(<U>tilt</U>[2])        0      ]
  Z = [ -sin(<U>tilt</U>[2])  cos(<U>tilt</U>[2])        0      ]
      [        0             0             1      ]

      [  cos(<U>tilt</U>[1])        0      -sin(<U>tilt</U>[1]) ]
  Y = [        0             1             0      ]
      [  sin(<U>tilt</U>[1])        0       cos(<U>tilt</U>[1]) ]

      [        1             0             0      ]
  X = [        0       cos(<U>tilt</U>[0])  sin(<U>tilt</U>[0]) ]
      [        0      -sin(<U>tilt</U>[0])  cos(<U>tilt</U>[0]) ]
</PRE>


<HR>

<H3><A NAME="IWInitObjList">IWInitObjList</A></H3>
<P>Looks up an object list by name.  If the a list with that name already
exists, returns a reference to that list; otherwise, returns a reference
to a new object list.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrHeaderID IWInitObjList(const char* <U>name</U>);

<H4>Description</H4>
<P>If an object list with the name given by the null-terminated string
<U>name</U> already exists in memory, creates a reference to that list
and returns it.  If an object list with the given name does not already
exist in memory, creates a new list and returns a reference to it.  If
the process of creating a reference or a new list fails, the IWInitObjList
will return zero.  For the purposes of comparing object list names, at
most MAX_OBJ_FILE_NAME_SIZE minus one characters are used.  Use
<A HREF="#IWCloseObjList">IWCloseObjList</A> to disconnect from a list that
you connected to with IWInitObjList.

<HR>

<H3><A NAME="IWIsObjSelected">IWIsObjSelected</A></H3>
<P>Returns whether or not a given point falls within the boundaries of an
object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWIsObjSelected(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>dtype</U>, IW_POINT <U>pt</U>, int <U>wave</U>, int <U>time</U>);

<H4>Description</H4>
<P>IWIsObjSelected returns IW_ERROR if unable to allocate resources for
resolving the object reference, <U>objID</U>.  IWIsObjSelected returns zero if
the object list reference by <U>headerID</U> is invalid or the point,
<U>pt</U> does not fall within the bounds of the object referred to by
<U>objID</U>, or that object is not in the wavelength with index <U>wave</U>
and the time point with index <U>time</U>.  Otherwise, IWIsObjSelected returns
one.  <U>space</U> controls how the coordinates of <U>pt</U> are interpreted.
If <U>space</U> is IWOBJ_DATA_SP, the point is assumed to be in "data space.
If <U>space</U> is IWOBJ_REAL_SP, the point is assumed to be in "real space".
For compatibility with the behavior of the IVE 3.3 version, IWIsObjSelected
will never return one when <U>objID</U> refers to an object created with a
call to <A HREF="#IWAreaObj">IWAreaObj</A>,
<A HREF="#IWCircleObj">IWCircleObj</A>, <A HREF="#IWPtsObj">IWPtsObj</A>, or
<A HREF="#IWSphereObj">IWSphereObj</A>.

<HR>

<H3><A NAME="IWLoadObjList">IWLoadObjList</A></H3>
<P>Loads into memory a list of objects previously saved to a file.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWLoadObjList(IWGrHeaderID <U>headerID</U>, const char* <U>filename</U>,
int <U>mode</U>);

<H4>Description</H4>
<P>Loads an object list from the file named <U>filename</U> into the object
list referred to by <U>headerID</U>.  If <U>mode</U> is IWOBJ_TRUNCATE, the
coordinate system and any objects associated with the object list referred to
by <U>headerID</U> are replaced by the objects and coordinate system stored in
the file.  If <U>mode</U> is IWOBJ_APPEND, any objects in the object list
referred to by <U>headerID</U> are preserved in order at the front of the
object list.  The coordinated system for the object list referred to by
<U>headerID</U> is preserved as well unless it had not yet been set.
IWLoadObjList returns IW_SUCCESS if the object list referred to by
<U>headerID</U> is valid, <U>mode</U> is IWOBJ_TRUNCATE or IWOBJ_APPEND,
and an object list was successfully extracted from the file named
<U>filename</U>; otherwise, IWLoadObjList returns IW_ERROR.

<HR>

<H3><A NAME="IWPolyObj">IWPolyObj</A></H3>
<P>Creates an object representing a polygon parallel to the xy plane.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWPolyObj(IWGrHeaderID <U>headerID</U>, const IW_POINT <U>poly</U>[],
int <U>npt</U>, int <U>iwave</U>, int <U>itime</U>, int <U>type</U>,
int <U>color</U>);

<H4>Description</H4>
<P>Creates a polygon object with <U>npt</U> vertices whose coordinates
are stored in the array <U>poly</U>.  The vertices are assumed to lie
on the same z plane whose z coordinate is the z coordinate for the first
vertex.  The circle lies in the wavelength whose zero-based index is given
by <U>iwave</U> and the time point whose zero-based index is given by
<U>itime</U>.  If <U>space</U> is IWOBJ_DATA_SP, the coordinates are assumed
to be in pixel units (i.e. grid space); if <U>space</U> is IWOBJ_REAL_SP, the
coordinates are assumed to be in "real space".  <U>color</U> specifies the
color index to be used when displaying the rectangle.  Returns zero if the
object list referred to by <U>headerID</U> is not valid, the object list has
not had a coordinate system established, or it was not possible to allocate
resources for the new object; otherwise, returns a reference to the new object.

<HR>

<H3><A NAME="IWPtsObj">IWPtsObj</A></H3>
<P>Defines an object by explicitly providing all the the points in the object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWPtsObj(IWGrHeaderID <U>headerID</U>, const IW_POINT <U>list</U>[],
int <U>npt</U>, int <U>iwave</U>, int <U>itime</U>, int <U>space</U>,
int <U>color</U>);

<H4>Description</H4>
<P>Creates an object consisting of the <U>npt</U> points specified in
<U>list</U> and adds that object to the object list referred to by
<U>headerID</U>.  The points all lie in the same wavelength, whose zero-based
index is given by <U>iwave</U>, and time point, whose zero-based index is given
by <U>itime</U>.  If <U>space</U> is IWOBJ_DATA_SP, the coordinates are
assumed to be in pixel units (i.e. grid space); if <U>space</U> is
IWOBJ_REAL_SP, the coordinates are assumed to be in "real space".  <U>color</U>
specifies the color index to be used when displaying the points.  Returns zero
if the object list referred to by <U>headerID</U> is not valid, the object list
has not had a coordinate system established, or it was not possible to
allocate resources for the new object; otherwise, returns a reference to the
new object.

<HR>

<H3><A NAME="IWRtMemObjs">IWRtMemObjs</A></H3>
<P>Constructs a list of references to the member objects of an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtMemObjs(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
IWGrObjID** <U>obj_list</U>, int* <U>nobj</U>);

<H4>Description</H4>
<P>If <U>headerID</U> is not a reference to a valid object list or
<U>objID</U> is not a reference to a valid object, IWRtMemObjs returns
IW_ERROR and sets *<U>obj_list</U> and *<U>nobj</U> to zero.  If
<U>headerID</U> is a reference to a valid object list and <U>objID</U> is a
reference to an object in that list and that object is either a non-composite
object or a composite object with zero members, IWRtMemObjs returns IW_SUCCESS
and sets *<U>obj_list</U> and *<U>nobj</U> to zero.  If <U>headerID</U> is a
reference to a valid object list and <U>objID</U> is a reference to a
composite object in that list with at least one member, IWRtMemObjs sets
*<U>nobj</U> to the number of member objects.  Then, if IWRtMemObjs
could allocate an array of references to the member objects, it will set
*<U>obj_list</U> to point to the array of references and will return
IW_SUCCESS; otherwise it will set *<U>obj_list</U> to zero and will return
IW_ERROR.  When you are finished with the array of references to the member
objects, you should call free() with the pointer to the first array element
(i.e. free(*<U>obj_list</U>)) to release the memory associated with the
array.

<HR>

<H3><A NAME="IWRtNumObjLists">IWRtNumObjLists</A></H3>
<P>Returns the number of object lists currently in memory.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtNumObjLists(void);

<H4>Description</H4>
<P>If the program is not attached to the Priism shared memory file, then
IWRtNumObjLists will return the number of object lists the program currently
has open.  If the program is attached to the Priism shared memory file, then
IWRtNumObjLists will return the total number of object lists available in
shared memory.

<HR>

<H3><A NAME="IWRtObjCM">IWRtObjCM</A></H3>
<P>Computes the weighted mean position of a set of points within an object
where the weight of each point is the intensity at that point.  For an object
created by <A HREF="#IWAreaObj">IWAreaObj</A> or
<A HREF="#IWPtsObj">IWPtsObj</A>, the point used are the points that define
the object.  For an object which is non-composite and was not created by
<A HREF="#IWAreaObj">IWAreaObj</A> or <A HREF="#IWPtsObj">IWPtsObj</A>, the
points used are those points which have integral coordinates in the object's
preferred coordinate convention (for 2D objects, only the x and y coordinates
have to be integral) and which lie within or on the boundary of the object.
For a composite object, the points used are the union of all the points
contained by the composite object's members.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjCM(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>istr</U>, int <U>dtype</U>, IW_POINT* <U>pt</U>);

<H4>Description</H4>
<P>If <U>headerID</U> does not refer to a valid object list, <U>objID</U>
does not refer to a valid object, or there was insufficient resources to
resolve the references, IWRtObjCM returns IW_ERROR and does not modify the
coordinates of *<U>pt</U>.  Otherwise, IWRtObjGC returns IW_SUCCESS and sets
the coordinates of *<U>pt</U> equal to the coordinates of the weighted mean
of the set of points drawn from the object referred to by <U>objID</U>.
The weights are the intensities drawn from the IM library stream, <U>istr</U>.
If a point does not fall within the bounds of that data set, its weight is
zero.  When <U>dtype</U> is IWOBJ_DATA_SP, the coordinates of *<U>pt</U> are
reported in "data space".  If <U>dtype</U> is IWOBJ_REAL_SP, the coordinates
are reported in "real space".

<HR>

<H3><A NAME="IWRtObjGC">IWRtObjGC</A></H3>
<P>Computes the unweighted mean of a set of points within an object.  For an
object created by <A HREF="#IWAreaObj">IWAreaObj</A> or
<A HREF="#IWPtsObj">IWPtsObj</A>, the point used are the points that define
the object.  For an object which is non-composite and was not created by
<A HREF="#IWAreaObj">IWAreaObj</A> or <A HREF="#IWPtsObj">IWPtsObj</A>, the
points used are those points which have integral coordinates in the object's
preferred coordinate convention (for 2D objects, only the x and y coordinates
have to be integral) and which lie within or on the boundary of the object.
For a composite object, the points used are the union of all the points
contained by the composite object's members.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjGC(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>dtype</U>, IW_POINT* <U>pt</U>);

<H4>Description</H4>
<P>If <U>headerID</U> does not refer to a valid object list, <U>objID</U>
does not refer to a valid object, or there was insufficient resources to
resolve the references, IWRtObjGC returns IW_ERROR and does not modify the
coordinates of *<U>pt</U>.  Otherwise, IWRtObjGC returns IW_SUCCESS and sets
the coordinates of *<U>pt</U> equal to the coordinates of the unweighted mean
of the set of points drawn from the object referred to by <U>objID</U>.  When
<U>dtype</U> is IWOBJ_DATA_SP, the coordinates of *<U>pt</U> are reported in
"data space".  If <U>dtype</U> is IWOBJ_REAL_SP, the coordinates are reported
in "real space".

<HR>

<H3><A NAME="IWRtObjHdr">IWGrObjHdr</A></H3>
<P>Retrieves the coordinate system and bounds associated with an object list.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjHdr(IWGrHeaderID <U>headerID</U>, int <U>nxyzwt</U>[],
float <U>delt</U>[], float <U>tilt</U>[], float <U>orig</U>[],
int <U>xyzst</U>[]);

<H4>Description</H4>
<P>IWRtObjHdr returns IW_ERROR and does not modify the contents of
<U>nxyzwt</U>, <U>delt</U>, <U>tilt</U>, <U>orig</U>, and <U>xyzst</U>
if the object list referred to by <U>headerID</U> is invalid or a
coordinate system and bounds have not been established for that object list
with a previous call to <A HREF="#IWInitObjHdr">IWInitObjHdr</A>.  Otherwise,
IWRtObjHdr returns IW_SUCCESS and fills <U>nxyzwt</U>, <U>delt</U>,
<U>tilt</U>, <U>orig</U>, and <U>xyzst</U> with the bounds and coordinate
system information for the object list referred to by <U>headerID</U>.  The
meanings of the elements of <U>nxyzwt</U>, <U>delt</U>, <U>tilt</U>,
<U>orig</U>, and <U>xyzst</U> are the same as described in the documentation
for <A HREF="#IWInitObjHdr">IWInitObjHdr</A>.

<HR>

<H3><A NAME="IWRtObjInt">IWRtObjInt</A></H3>
<P>Computes the sum of intensities at a set of points within an object.
For an object created by <A HREF="#IWAreaObj">IWAreaObj</A> or
<A HREF="#IWPtsObj">IWPtsObj</A>, the point used are the points that define
the object.  For an object which is non-composite and was not created by
<A HREF="#IWAreaObj">IWAreaObj</A> or <A HREF="#IWPtsObj">IWPtsObj</A>, the
points used are those points which have integral coordinates in the object's
preferred coordinate convention (for 2D objects, only the x and y coordinates
have to be integral) and which lie within or on the boundary of the object.
For a composite object, the points used are the union of all the points
contained by the composite object's members.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
float IWRtObjInt(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>istr</U>);

<H4>Description</H4>
<P>If <U>headerID</U> does not refer to a valid object list, <U>objID</U>
does not refer to a valid object, or there was insufficient resources to
resolve the references, IWRtObjInt returns IW_ERROR.  Otherwise, returns
the sum of the intensities from the IM library stream, <U>istr</U>, at the
points within the object that fall within the bounds of that data set.
if no points vall within the bounds of that data set or memory for the data
set images could not be allocated, returns zero.

<HR>

<H3><A NAME="IWRtObjListNames">IWRtObjListNames</A></H3>
<P>Constructs a list of the names of all the object lists currently in
memory.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
char** IWRtObjListNames(void);

<H4>Description</H4>
<P>Returns an array of pointers to the names (null-terminated) of the object
lists currently in memory.  When the application is finished with the array
of names, it should call free() with the pointer returned to release the
memory.

<HR>

<H3><A NAME="IWRtObjLnCount">IWRtObjLnCount</A></H3>
<P>Returns the number of composite objects to which an object belongs.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjLnCount(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>);

<H4>Description</H4>
<P>If <U>headerID</U> is not a reference to a valid object list or <U>objID</U>
is not a reference to a valid object or is a reference to a composite object,
IWRtObjLnCount returns IW_ERROR; otherwise, IWRtObjLnCount returns the
number of composite objects of which the object referred to by <U>objID</U>
is a member.

<HR>

<H3><A NAME="IWRtObjName">IWRtObjName</A></H3>
<P>Retrieves the name associated with an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjName(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
char* <U>name</U>);

<H4>Description</H4>
<P>Returns IW_ERROR if the object list referred to by <U>headerID</U> is
not valid or the object referred to by <U>objID</U> is not valid; otherwise,
returns IW_SUCCESS and fills the memory pointed to by <U>name</U> with the
null-terminated name associated with the object referred to by <U>objID</U>.
For reliable operation, <U>name</U> must point to memory with room for
at least MAX_OBJ_FILE_NAME_SIZE characters (including the terminating null).

<HR>

<H3><A NAME="IWRtObjPts">IWRtObjPts</A></H3>
<P>Retrieves the coordinates of the control points for an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjPts(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>space</U>, IW_POINT** <U>pts</U>, int* <U>pt_num</U>, int* <U>iwave</U>,
int* <U>itime</U>);

<H4>Description</H4>
<P>IWRtObjPts returns IW_ERROR if the object list referred to by
<U>headerID</U> is not valid, the object referred to by <U>objID</U> is not
valid, or there were insufficient resources for resolving references.  In that
case,  IWRtObjPts sets *<U>pts</U>, *<U>pt_num</U>, *<U>iwave</U>, and
*<U>itime</U> to zero.  If the object list referred to by <U>headerID</U>
is valid and the object referred to by <U>objID</U> is valid, IWRtObjPts stores
the wavelength index of the object in *<U>iwave</U>, the time point index
of the object in *<U>itime</U>, and the number of control points in the object
in *<U>pt_num</U>.  If the number of control points is zero, IWRtObjPts sets
*<U>pts</U> to zero and returns IW_SUCCESS.  If the number of control points is
not zero but there were insufficient resources to allocate space for the
control point coordinates, IWRtObjPts sets *<U>pts</U> to zero and returns
IW_ERROR.  If the number of control points is not zero and IWRtObjPts could
allocate space for the coordinates, IWRtObjPts sets *<U>pts</U> to point to
the array of coordinates.  When you are finished with the coordinates, you
should call free() with the value of *<U>pts</U> to release the memory used
for the array.  If <U>space</U> is IWOBJ_REAL_SP, IWRtObjPts reports the
coordinates in "real space"; otherwise, IWRtObjPts reports the coordinates
in "data space".

<HR>

<H3><A NAME="IWRtObjPtSelected">IWRtObjPtSelected</A></H3>
<P>Returns a reference to the first non-composite object that has a control
point within a given distance of a specified point.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWRtObjPtSelected(IWGrHeaderID <U>headerID</U>, int <U>space</U>,
IW_POINT <U>pt</U>, int <U>wave</U>, int <U>time</U>, int <U>max_dist</U>,
int* <U>pt_num</U>);

<H4>Description</H4>
<P>Returns a reference to the first non-composite object in the object list
referred to by <U>headerID</U> that has a control point within a distance,
<U>max_dist</U>, of the point, <U>pt</U>, and is in the wavelength with index
<U>wave</U> and the time point with index <U>time</U>.  <U>space</U> controls
how the coordinates of <U>pt</U> are interpreted and the units of
<U>max_dist</U>.  If <U>space</U> is IWOBJ_DATA_SP, the point is assumed to be
in "data space" and the distance in pixels.  If <U>space</U> is IWOBJ_REAL_SP,
the point is assumed to be in "real space" and the distance in the units of
the pixel spacing.  If <U>headerID</U> does not refer to a valid object list, a
coordinate system has not been established for the object list, there was no
object matching the given criteria, or resources could not be allocated for the
reference, IWRtObjPtSelected will return zero and set *<U>pt_num</U> to zero.
Otherwise, IWRtObjPtSelected will set *<U>pt_num</U> to the zero-based index
of the first control point in the object that is within a distance,
<U>max_dist</U>, of the point, <U>pt</U>.

<HR>

<H3><A NAME="IWRtObjRange">IWRtObjRange</A></H3>
<P>Computes the bounding box for an object.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjRange(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>,
int <U>space</U>, float <U>range</U>[10]);

<H4>Description</H4>
<P>If <U>headerID</U> does not refer to a valid object list, <U>objID</U>
does not refer to a valid object, or there was insufficient resources to
resolve the references, IWRtObjRange returns IW_ERROR and does not modify
the values of <U>range</U>.  Otherwise, IWRtObjRange returns IW_SUCCESS
and returns the bounding box in <U>range</U>:

<DL>
  <DT><U>range</U>[0]<DD>Is the minimum x coordinate.
  <DT><U>range</U>[1]<DD>Is the maximum x coordinate.
  <DT><U>range</U>[2]<DD>Is the minimum y coordinate.
  <DT><U>range</U>[3]<DD>Is the maximum y coordinate.
  <DT><U>range</U>[4]<DD>Is the minimum z coordinate.
  <DT><U>range</U>[5]<DD>Is the maximum z coordinate.
  <DT><U>range</U>[6]<DD>Is the minimum wavelength index.
  <DT><U>range</U>[7]<DD>Is the maximum wavelength index.
  <DT><U>range</U>[8]<DD>Is the minimum time point index.
  <DT><U>range</U>[9]<DD>IS the maximum time point index.
</DL>

<P>If <U>space</U> is IWOBJ_DATA_SP, the x, y, and z values for the bounding
box are reported in "data space".  If <U>space</U> is IWOBJ_REAL_SP, the x,
y, and z values for the bounding box are reported in "real space".

<HR>

<H3><A NAME="IWRtObjs">IWRtObjs</A></H3>
<P>Constructs a list of references to objects which match criteria based
on object type and bounding box.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWRtObjs(IWGrHeaderID <U>headerID</U>, int <U>type_mask</U>,
int <U>space</U>, const float <U>range</U>[10], IWGrObjID** <U>obj_list</U>,
int* <U>nobj</U>);

<H4>Description</H4>
<P>Given the object list referred to by <U>headerID</U>, IWRtObjs constructs
a list of references to objects from that list.  It sets *<U>obj_list</U> to
point to the array of object references in the constructed list and
*<U>nobj</U> to the number of objects in the constructed list.  All objects in
the constructed list have an object type which matches an object type included
in <U>type_mask</U>. <U>type_mask</U> should be a bitwise-or of one or more of
the following values:

<DL>
  <DT>IWOBJ_AREA<DD>Include objects created by
    <A HREF="#IWAreaObj">IWAreaObj</A>.
  <DT>IWOBJ_BOX<DD>Include objects created by
    <A HREF="#IWBoxObj">IWBoxObj</A>.
  <DT>IWOBJ_CIRCLE<DD>Include objects created by
    <A HREF="#IWCircleObj">IWCircleObj</A>.
  <DT>IWOBJ_COMPOSITE<DD>Include objects created by
    <A HREF="#IWGroupObj">IWGroupObj</A>.
  <DT>IWOBJ_POLY<DD>Include objects created by
    <A HREF="#IWPolyObj">IWPolyObj</A>.
  <DT>IWOBJ_PTS<DD>Include objects created by
    <A HREF="#IWPtsObj">IWPtsObj</A>.
  <DT>IWOBJ_SIMPLE<DD>Is a synonym for the bitwise-or of IWOBJ_AREA, IWOBJ_BOX,
    IWOBJ_CIRCLE, IWOBJ_POLY, IWOBJ_PTS, and IWOBJ_SPHERE.
  <DT>IWOBJ_SPHERE<DD>Include objects created by
    <A HREF="#IWSphereObj">IWSphereObj</A>.
</DL>

<P>Also, any object in the constructed list falls within the bounds specified
by <U>range</U>.  If <U>range</U>[0] is IWOBJ_RANGE_ALL, no object is excluded
from the constructed list on the basis of the object's x, y, or z bounds; an
object will be excluded from the constructed list if its wavelength index or
time point index does not fall in the bounds set previously set for the
object list with a call to <A HREF="#IWInitObjHdr">IWInitObjHdr</A>.
Otherwise, an object is only included if its bounding box fits within the
bounding box specified by the elements of <U>range</U>.  For an object to
be included in the constructed list, it must satisfy the conditions listed
below.  If the coordinate convention used for the object matches that given
by <U>space</U> (IWOBJ_DATA_SP for "data space" or IWOBJ_REAL_SP for "real
space"), the elements of <U>bound</U> are equal to the elements of
<U>range</U>.  If the coordinate convention used for the object does not match
that given by <U>space</U>, <U>bound</U>[0], <U>bound</U>[2], and
<U>bound</U>[4] are equal to the x, y, and z coordinates, respectively,
of the result of converting the point, (<U>range</U>[0], <U>range</U>[2],
<U>range</U>[4]), to the object's coordinate convention; <U>bound</U>[1],
<U>bound</U>[3], and <U>bound</U>[5] are equal to the x, y, and z
coordinates respectively, of the result of converting the point
(<U>range</U>[1], <U>range</U>[3], <U>range</U>[5]) to the object's coordinate
convention; <U>bound</U>[6], <U>bound</U>[7], <U>bound</U>[8],
and <U>bound</U>[9] are equal to <U>range</U>[6], <U>range</U>[7],
<U>range</U>[8], and <U>range</U>[9], respectively.

<UL>
  <LI>The object's x range, <VAR>xmin</VAR> to <VAR>xmax</VAR>, is such that
    <VAR>xmin</VAR> is greater than or equal to <U>bound</U>[0] and
    <VAR>xmax</VAR> is less than or equal to <U>bound</U>[1].
  <LI>The object's y range, <VAR>ymin</VAR> to <VAR>ymax</VAR>, is such that
    <VAR>ymin</VAR> is greater than or equal to <U>bound</U>[2] and
    <VAR>ymax</VAR> is less than or equal to <U>bound</U>[3].
  <LI>The object's z range, <VAR>zmin</VAR> to <VAR>zmax</VAR>, is such that
    <VAR>zmin</VAR> is greater than or equal to <U>bound</U>[4] and
    <VAR>zmin</VAR> is less than or equal to <U>bound</U>[5].
  <LI>The wavelength index range for the object, <VAR>wmin</VAR> to
    <VAR>wmax</VAR>, is such that <VAR>wmin</VAR> is greater than or equal to
    <U>bound</U>[6] and <VAR>wmax</VAR> is less than or equal to
    <U>bound</U>[7].
  <LI>The time point index range for the object, <VAR>tmin</VAR> to
    <VAR>tmax</VAR>, is such that <VAR>tmin</VAR> is greater than or equal to
    <U>bound</U>[8] and <VAR>tmax</VAR> is less than or equal to
    <U>bound</U>[9].
</UL>

<P>If the object list referred to by <U>headerID</U> is not valid, the object
list does not have an established coordinate system and bounds, or there
were insufficient resources to construct the list, IWRtObjs returns IW_ERROR
and sets *<U>obj_list</U> and *<U>nobj</U> to zero.  Otherwise, IWRtObjs
returns IW_SUCCESS and sets *<U>obj_list</U> to point to the array of objects
and *<U>nobj</U> to the number of elements in the array.  In that case, you
should call free() with the value of *<U>obj_list</U> when you no longer
need the array.

<HR>

<H3><A NAME="IWRtObjSelected">IWRtObjSelected</A></H3>
<P>Returns a reference to the first non-composite object whose boundaries
contain a given point.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWRtObjSelected(IWGrHeaderID <U>headerID</U>, int <U>space</U>,
IW_POINT <U>pt</U>, int <U>wave</U>, int <U>time</U>);

<H4>Description</H4>
<P>Returns a reference to the first non-composite object in the object list
referred to by <U>headerID</U> whose boundaries enclose the point, <U>pt</U>,
and is in the the wavelength with index <U>wave</U> and the time point with
index <U>time</U>.  <U>space</U> controls how the coordinates of <U>pt</U>
are interpreted.  If <U>space</U> is IWOBJ_DATA_SP, the point is assumed to be
in "data space.  If <U>space</U> is IWOBJ_REAL_SP, the point is assumed to be
in "real space".  If <U>headerID</U> does not refer to a valid object list,
a coordinate system has not been established for the object list, there was
no object enclosing the point, or resources could not be allocated for the
reference, IWRtObjSelected will return zero.  For compatibility with the
behavior of the IVE 3.3 version, IWRtObjPtSelected will never return a
reference to an object created with a call to
<A HREF="#IWAreaObj">IWAreaObj</A>, <A HREF="#IWCircleObj">IWCircleObj</A>,
<A HREF="#IWPtsObj">IWPtsObj</A>, or <A HREF="#IWSphereObj">IWSphereObj</A>.

<HR>

<H3><A NAME="IWRtObjType">IWRtObjType</A></H3>
<P>Returns an object's type (box, circle, etc.).

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
<P>int IWRtObjType(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>);

<H4>Description</H4>
<P>Returns IW_ERROR if the object list referred to by <U>headerID</U> is
not valid or the object referred to by <U>objID</U> is not valid; otherwise,
returns an integer describing the type of object referred to by <U>objID</U>.
The integer will have one of the values listed below.

<DL>
  <DT>IWOBJ_AREA<DD>The object was created by
    <A HREF="#IWAreaObj">IWAreaObj</A>.
  <DT>IWOBJ_BOX<DD>The object was created by
    <A HREF="#IWBoxObj">IWBoxObj</A>.
  <DT>IWOBJ_CIRCLE<DD>The object was created by
    <A HREF="#IWCircleObj">IWCircleObj</A>.
  <DT>IWOBJ_COMPOSITE<DD>The object was created by
    <A HREF="#IWGroupObj">IWGroupObj</A>.
  <DT>IWOBJ_POLY<DD>The object was created by
    <A HREF="#IWPolyObj">IWPolyObj</A>.
  <DT>IWOBJ_PTS<DD>The object was created by
    <A HREF="#IWPtsObj">IWPtsObj</A>.
  <DT>IWOBJ_SPHERE<DD>The object was created by
    <A HREF="#IWSphereObj">IWSphereObj</A>.
</DL>

<HR>

<H3><A NAME="IWRtObjVol">IWRtObjVol</A></H3>
<P>Computes the number of points with an object.  For an object created by
<A HREF="#IWAreaObj">IWAreaObj</A> or <A HREF="#IWPtsObj">IWPtsObj</A>, the
point used are the points that define the object.  For an object which is
non-composite and was not created by <A HREF="#IWAreaObj">IWAreaObj</A> or
<A HREF="#IWPtsObj">IWPtsObj</A>, the points used are those points which have
integral coordinates in the object's preferred coordinate convention (for 2D
objects, only the x and y coordinates have to be integral) and which lie within
or on the boundary of the object.  For a composite object, the points used are
the union of all the points contained by the composite object's members.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
float IWRtObjVol(IWGrHeaderID <U>headerID</U>, IWGrObjID <U>objID</U>);

<H4>Description</H4>
<P>If <U>headerID</U> does not refer to a valid object list, <U>objID</U>
does not refer to a valid object, or there was insufficient resources to
resolve the references, IWRtObjVol returns IW_ERROR.  Otherwise, IWRtObjVol
returns the number of points within the object referred to by <U>objID</U>.

<HR>

<H3><A NAME="IWSaveObjList">IWSaveObjList</A></H3>
<P>Saves an object list to a file.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
int IWSaveObjList(IWGrHeaderID <U>headerID</U>, const char* <U>filename</U>);

<H4>Description</H4>
<P>Saves the object list referred to by <U>headerID</U> to the file with
the name given by the null-terminated string <U>filename</U>.  IWSaveObjList
returns IW_SUCCESS if the object list referred to by <U>headerID</U> is valid,
the object has an established coordinate system, and the object list was
successfully written to the file; otherwise, IWSaveObjList returns IW_ERROR.

<HR>

<H3><A NAME="IWSphereObj">IWSphereObj</A></H3>
<P>Creates an object representing a sphere.

<H4>Prototype (C)</H4>
<P>#include "IWGrCC.h"<BR>
IWGrObjID IWSphereObj(IWGrHeaderID <U>headerID</U>, IW_POINT <U>center</U>,
int <U>iwave</U>, int <U>itime</U>, float <U>radius</U>, int <U>space</U>,
int <U>color</U>);

<H4>Description</H4>
<P>Defines a sphere by its center point, <U>center</U>, and a radius,
<U>radius</U>.  The sphere lies in the wavelength whose zero-based index
is given by <U>iwave</U> and the time point whose zero-based index is given
by <U>itime</U>.  If <U>space</U> is IWOBJ_DATA_SP, the coordinates are assumed
to be in pixel units (i.e. grid space); if <U>space</U> is IWOBJ_REAL_SP, the
coordinates are assumed to be in "real space".  Using pixel units for the
coordinates is problematic if the pixel spacing is not isotropic (i.e. then
a sphere in pixel coordinates is not a sphere in real coordinates).
<U>color</U> specifies the color index to be used when displaying the
rectangle.  Returns zero if the object list referred to by <U>headerID</U> is
not valid, the object list has not had a coordinate system established, or it
was not possible to allocate resources for the new object; otherwise, returns
a reference to the new object.

<HR>

</BODY>
</HTML>
